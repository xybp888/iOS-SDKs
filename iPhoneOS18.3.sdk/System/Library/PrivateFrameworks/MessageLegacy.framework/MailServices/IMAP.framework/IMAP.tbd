--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/MessageLegacy.framework/MailServices/IMAP.framework/IMAP
current-version:       17
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _GmailPermanentTagAllMail, _GmailPermanentTagSpam,
                            _GmailPermanentTagStarred,
                            _GmailSpecialUseAttributeImportant,
                            _IMAPAccountOfflineOperationQueuedNotification,
                            _IMAPESearchAllKey, _IMAPESearchCountKey,
                            _IMAPESearchMaxKey, _IMAPESearchMinKey,
                            _IMAPESearchTagKey,
                            _IMAPMailboxSpecialUseAttributeAll,
                            _IMAPMailboxSpecialUseAttributeArchive,
                            _IMAPMailboxSpecialUseAttributeDrafts,
                            _IMAPMailboxSpecialUseAttributeFlagged,
                            _IMAPMailboxSpecialUseAttributeJunk,
                            _IMAPMailboxSpecialUseAttributeSent,
                            _IMAPMailboxSpecialUseAttributeTrash,
                            _IMAPServerPathPrefix,
                            _MFAPSManagerDeviceTokenChangedNote,
                            _MFAuthSchemeGmailClientToken,
                            _MFAuthSchemeNewcastle, _MFAuthSchemeOAuth2Token,
                            _MFCreateArrayForMessageFlags,
                            _MFIMAPDateSearchStringForDate,
                            _MFIMAPDestinationUidSetResponseKey,
                            _MFIMAPSourceUidSetResponseKey,
                            _MFIMAPUidValidityStatusKey,
                            _MFUIDPlusInfoFromResponse,
                            __IMAPListsOnlySubscribedMailboxes,
                            __IMAPMailboxAttributesKey, _flagsFromFetchResults,
                            _tokenizeCriterionWithHandler, _uidFromFetchResults ]
    objc-classes:         [ AOLAccount, CastleIMAPAccount, GmailAccount, IMAPAccount,
                            MFAOLSMTPAccount, MFAPSManager,
                            MFBaseSyncResponseQueue, MFFetchResponseQueue,
                            MFGmailClientTokenAuthScheme, MFGmailSMTPAccount,
                            MFIMAPCommandPipeline, MFIMAPCompoundDownload,
                            MFIMAPConnection, MFIMAPConnectionFlagSearchRequest,
                            MFIMAPConnectionFlagSearchResults, MFIMAPDownload,
                            MFIMAPDownloadCache, MFIMAPFetchResult, MFIMAPMessage,
                            MFIMAPMessageDownload, MFIMAPMessageWithCache,
                            MFIMAPOfflineCopyOnStupidServerOperation,
                            MFIMAPOperation, MFIMAPOperationCache,
                            MFIMAPParseContext, MFIMAPResponse,
                            MFIMAPResponseConsumer, MFIMAPSimpleDownload,
                            MFLibraryIMAPStore, MFNewcastleAuthScheme,
                            MFNewcastleSMTPAccount, MFOAuth2TokenAuthScheme,
                            MFOSXServerIMAPAccount, MFOSXServerSMTPAccount,
                            MFSearchFetchResponseQueue, MFSearchResponseQueue,
                            MFSyncResponseQueue, MFYahooSMTPAccount, YahooAccount,
                            YahooDeliveryAccount, _MFFlagChangeEntry,
                            _MFGmailClientTokenAuthenticator, _MFIMAPFetchUnit,
                            _MFIMAPMailboxDeletionQueueEntry,
                            _MFNewcastleAuthenticator,
                            _MFOAuth2TokenAuthenticator, _MFWholeMessageSection ]
    objc-ivars:           [ CastleIMAPAccount._aliasChanges,
                            CastleIMAPAccount._aliasUpdateQueue,
                            CastleIMAPAccount._appleAccount,
                            CastleIMAPAccount._appleAccountLock,
                            CastleIMAPAccount._deliveryAccount,
                            CastleIMAPAccount._readyForPushRegistration,
                            CastleIMAPAccount._updatedDefaultEmail,
                            GmailAccount._clientToken, GmailAccount._credential,
                            GmailAccount._enablingPromise, IMAPAccount._apsTopic,
                            IMAPAccount._cachedConnections,
                            IMAPAccount._connectionLock,
                            IMAPAccount._didRequestPushRegistration,
                            IMAPAccount._didUpdateSeparatorAndNamespace,
                            IMAPAccount._eSearchSupported,
                            IMAPAccount._eSearchSupportedLock,
                            IMAPAccount._fetchedMailboxList,
                            IMAPAccount._flagChangesLock,
                            IMAPAccount._greatestInboxUid,
                            IMAPAccount._isOffline,
                            IMAPAccount._lastKnownCapabilities,
                            IMAPAccount._lastPushRegistration,
                            IMAPAccount._listeningForDeviceTokenChanges,
                            IMAPAccount._lockOrderingArray,
                            IMAPAccount._mailboxesToSynchronize,
                            IMAPAccount._mustRegisterForPushOnNextConnection,
                            IMAPAccount._nextConnectionTag,
                            IMAPAccount._observingPushedFoldersPrefsChanged,
                            IMAPAccount._offlineCache,
                            IMAPAccount._offlineCacheFlushHandler,
                            IMAPAccount._packetContextAssertion,
                            IMAPAccount._pushRegisteredMailboxes,
                            IMAPAccount._pushedMailboxUids,
                            IMAPAccount._readBufferSize,
                            IMAPAccount._recentFlagChanges,
                            IMAPAccount._separatorChar,
                            IMAPAccount._serverNamespace,
                            IMAPAccount._supportedPushServiceLevel,
                            IMAPAccount._timeLastFetchedMailboxList,
                            MFAOLSMTPAccount._account, MFAPSManager._deviceToken,
                            MFAPSManager._deviceTokenLock,
                            MFAPSManager._pushService, MFAPSManager._queue,
                            MFAPSManager._unwatchedTopics,
                            MFAPSManager._watchedTopics,
                            MFBaseSyncResponseQueue._connection,
                            MFBaseSyncResponseQueue._currentUID,
                            MFBaseSyncResponseQueue._isSearching,
                            MFBaseSyncResponseQueue._libraryDetails,
                            MFBaseSyncResponseQueue._missingUIDs,
                            MFBaseSyncResponseQueue._shouldCompact,
                            MFBaseSyncResponseQueue._shouldFetch,
                            MFBaseSyncResponseQueue._store,
                            MFBaseSyncResponseQueue._url,
                            MFFetchResponseQueue._connection,
                            MFFetchResponseQueue._flags,
                            MFFetchResponseQueue._highestModSequence,
                            MFFetchResponseQueue._isSearching,
                            MFFetchResponseQueue._newMessageCount,
                            MFFetchResponseQueue._numNewUIDs,
                            MFFetchResponseQueue._store,
                            MFGmailSMTPAccount._account,
                            MFIMAPCommandPipeline._chunkSize,
                            MFIMAPCommandPipeline._expectedSize,
                            MFIMAPCommandPipeline._fetchUnits,
                            MFIMAPCommandPipeline._full,
                            MFIMAPCommandPipeline._sending,
                            MFIMAPCompoundDownload._subdownloads,
                            MFIMAPConnection._additionalHeadersForFetch,
                            MFIMAPConnection._capabilities,
                            MFIMAPConnection._capabilityFlags,
                            MFIMAPConnection._commandNumber,
                            MFIMAPConnection._connectTime,
                            MFIMAPConnection._connectionState,
                            MFIMAPConnection._data,
                            MFIMAPConnection._delegateState,
                            MFIMAPConnection._expirationTime,
                            MFIMAPConnection._gotBadResponse,
                            MFIMAPConnection._idleCommandSequenceNumber,
                            MFIMAPConnection._idleSubscriptionCancelable,
                            MFIMAPConnection._lastRequiredHeaders,
                            MFIMAPConnection._lastRequiredHeadersArray,
                            MFIMAPConnection._mailboxListFilter,
                            MFIMAPConnection._noModSequence,
                            MFIMAPConnection._readBufferSize,
                            MFIMAPConnection._selectedMailbox,
                            MFIMAPConnection._separatorChar,
                            MFIMAPConnection._serverNamespace,
                            MFIMAPConnection._streamEventQueue,
                            MFIMAPConnection._tag,
                            MFIMAPConnection._verifiedESearchResponse,
                            MFIMAPConnectionFlagSearchRequest._isPositiveMatch,
                            MFIMAPConnectionFlagSearchRequest._mask,
                            MFIMAPConnectionFlagSearchRequest._searchTerms,
                            MFIMAPConnectionFlagSearchResults._uidsWithFlagMaskSet,
                            MFIMAPConnectionFlagSearchResults._uidsWithoutFlagMaskSet,
                            MFIMAPDownload._countingConsumer,
                            MFIMAPDownload._mainConsumer,
                            MFIMAPDownload._pendingFetchResults,
                            MFIMAPDownload._uid, MFIMAPDownloadCache._downloads,
                            MFIMAPFetchResult._itemType,
                            MFIMAPFetchResult._modSequenceNumber,
                            MFIMAPFetchResult._typeSpecific,
                            MFIMAPMessage._customFlags, MFIMAPMessage._size,
                            MFIMAPMessage._uid, MFIMAPMessage._uniqueRemoteId,
                            MFIMAPMessageDownload._allowsPartialDownloads,
                            MFIMAPMessageDownload._doneAddingSubdownloads,
                            MFIMAPMessageDownload._fetchBodyData,
                            MFIMAPMessageDownload._fetchingBodyText,
                            MFIMAPMessageDownload._fetchingMessageContents,
                            MFIMAPMessageDownload._headerConsumer,
                            MFIMAPMessageDownload._headerFilter,
                            MFIMAPMessageDownload._message,
                            MFIMAPMessageDownload._startedFetch,
                            MFIMAPMessageDownload._textConsumer,
                            MFIMAPMessageDownload._textFilter,
                            MFIMAPMessageDownload._topLevelPart,
                            MFIMAPMessageDownload._usingPartialDownloads,
                            MFIMAPMessageWithCache._headers,
                            MFIMAPMessageWithCache._messageData,
                            MFIMAPOfflineCopyOnStupidServerOperation.internalDates,
                            MFIMAPOfflineCopyOnStupidServerOperation.messageIds,
                            MFIMAPOperation._failureCount,
                            MFIMAPOperation._mailboxName,
                            MFIMAPOperation._opSpecific,
                            MFIMAPOperation._temporaryUids,
                            MFIMAPOperation._type, MFIMAPOperationCache._account,
                            MFIMAPOperationCache._handle,
                            MFIMAPOperationCache._lastSave,
                            MFIMAPOperationCache._lastUid,
                            MFIMAPOperationCache._lastUidValidity,
                            MFIMAPOperationCache._ops,
                            MFIMAPOperationCache._opsPending,
                            MFIMAPParseContext._connection,
                            MFIMAPParseContext._end, MFIMAPParseContext._invalid,
                            MFIMAPParseContext._lastLoggedChar,
                            MFIMAPParseContext._originalEnd,
                            MFIMAPParseContext._originalStart,
                            MFIMAPParseContext._response,
                            MFIMAPParseContext._start, MFIMAPResponse._data,
                            MFIMAPResponse._keyValuePairs,
                            MFIMAPResponse._responseConsumer,
                            MFIMAPResponse._responseType, MFIMAPResponse._tag,
                            MFIMAPResponseConsumer._consumersBySection,
                            MFIMAPSimpleDownload._complete,
                            MFIMAPSimpleDownload._error,
                            MFIMAPSimpleDownload._knownLength,
                            MFIMAPSimpleDownload._length,
                            MFIMAPSimpleDownload._offsetAdjustment,
                            MFIMAPSimpleDownload._originalDataLength,
                            MFIMAPSimpleDownload._range,
                            MFIMAPSimpleDownload._section,
                            MFLibraryIMAPStore._additionalFetchHeaders,
                            MFLibraryIMAPStore._additionalSynchronizationSearchArguments,
                            MFLibraryIMAPStore._cachedConnection,
                            MFLibraryIMAPStore._cachedConnectionLock,
                            MFLibraryIMAPStore._cancelationToken,
                            MFLibraryIMAPStore._currentFetchUid,
                            MFLibraryIMAPStore._didSynchronizeOldMessages,
                            MFLibraryIMAPStore._downloadCache,
                            MFLibraryIMAPStore._downloadDelegate,
                            MFLibraryIMAPStore._fetchPipeline,
                            MFLibraryIMAPStore._highestModSequence,
                            MFLibraryIMAPStore._lastHighestModSequence,
                            MFLibraryIMAPStore._mailboxName,
                            MFLibraryIMAPStore._readyToDealloc,
                            MFLibraryIMAPStore._recentsExist,
                            MFLibraryIMAPStore._relativePath,
                            MFLibraryIMAPStore._reserved,
                            MFLibraryIMAPStore._selectedUID,
                            MFLibraryIMAPStore._serverDeletedCount,
                            MFLibraryIMAPStore._serverUidNext,
                            MFLibraryIMAPStore._settingServerCount,
                            MFLibraryIMAPStore._shouldUseIDLE,
                            MFLibraryIMAPStore._supportsCustomPermanentFlags,
                            MFLibraryIMAPStore._supportsDollarForwardedFlag,
                            MFLibraryIMAPStore._supportsDollarJunkFlag,
                            MFLibraryIMAPStore._supportsDollarNotJunkFlag,
                            MFLibraryIMAPStore._supportsForwardedFlag,
                            MFLibraryIMAPStore._supportsJunkFlag,
                            MFLibraryIMAPStore._supportsNotJunkFlag,
                            MFLibraryIMAPStore._updateMetadata,
                            MFLibraryIMAPStore._updatingCache,
                            MFNewcastleSMTPAccount._castleAccount,
                            MFOSXServerIMAPAccount._deliveryAccount,
                            MFOSXServerSMTPAccount._mailAccount,
                            MFSearchResponseQueue.indexSet,
                            MFSearchResponseQueue.limit,
                            MFSyncResponseQueue._shouldSyncFlags,
                            MFYahooSMTPAccount._account,
                            _MFFlagChangeEntry.changes,
                            _MFFlagChangeEntry.commitTime,
                            _MFFlagChangeEntry.connectionTag,
                            _MFFlagChangeEntry.path, _MFFlagChangeEntry.uid,
                            _MFGmailClientTokenAuthenticator._sentResponse,
                            _MFIMAPFetchUnit._bodyDataConsumer,
                            _MFIMAPFetchUnit._consumerSection,
                            _MFIMAPFetchUnit._expectedFetchResult,
                            _MFIMAPFetchUnit._fetchItem, _MFIMAPFetchUnit._uid,
                            _MFIMAPMailboxDeletionQueueEntry.account,
                            _MFIMAPMailboxDeletionQueueEntry.paths,
                            _MFIMAPMailboxDeletionQueueEntry.urls,
                            _MFNewcastleAuthenticator._castleAccount,
                            _MFNewcastleAuthenticator._sentResponse,
                            _MFOAuth2TokenAuthenticator._sentResponse,
                            _MFWholeMessageSection._dataHolder ]
...

--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/VideoProcessors/GyroVideoStabilization.videoprocessor
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _FigSampleBufferProcessorCreateForGyroVideoStabilization ]
    objc-classes:         [ AContext, AFilter, EAffineXform, affineGPUMetal ]
    objc-ivars:           [ AContext._GPUMode, AContext._GPUOutputMode,
                            AContext._bgraRect, AContext._blockOnLastBuffer,
                            AContext._chromaQuadVertices, AContext._chromaRect,
                            AContext._chromaTexture, AContext._currentFilter,
                            AContext._directFBO, AContext._directTexture,
                            AContext._fillExtendedRowsInOutputBuffer,
                            AContext._fillExtendedRowsKernel, AContext._filters,
                            AContext._finishTransactionsSynchronously,
                            AContext._framebuffer, AContext._glContext,
                            AContext._glFence, AContext._lastInputBuffer,
                            AContext._lumaQuadVertices, AContext._lumaRect,
                            AContext._lumaTexture, AContext._metal,
                            AContext._outputSurfaceCache, AContext._pixelFormat,
                            AContext._renderbuffer, AContext._singlePlane,
                            AContext._size, AContext._surfaceCache,
                            AContext._uniformChroma, AContext._uniformLuma,
                            AContext._wasSinglePlane, AFilter._bgraProgram,
                            AFilter._blurUniforms, AFilter._chromaBlurProgram,
                            AFilter._chromaProgram,
                            AFilter._chromaWithClippingProgram,
                            AFilter._glContext, AFilter._lumaBlurProgram,
                            AFilter._lumaProgram,
                            AFilter._lumaWithClippingProgram, AFilter._uniforms,
                            AFilter.m_angle, EAffineXform._AUSMLumaSharpProgram,
                            EAffineXform._AUSMSharpLutHeight,
                            EAffineXform._AUSMSharpLutTexture,
                            EAffineXform._AUSMSharpLutWidth,
                            EAffineXform._TexMatCount, EAffineXform._TexMats,
                            EAffineXform._USMChromaProgram,
                            EAffineXform._USMv10LumaDownSampleProgram,
                            EAffineXform._USMv10LumaSharpProgram,
                            EAffineXform._USMv15LumaSharpProgram,
                            EAffineXform._USMv20LumaSharpProgram,
                            EAffineXform._ausmBlurRadius,
                            EAffineXform._ausmHighLumaDelta,
                            EAffineXform._ausmHighLumaDeltaBlurAmount,
                            EAffineXform._ausmLowLumaDelta,
                            EAffineXform._ausmLowLumaDeltaBlurAmount,
                            EAffineXform._blurEnabled,
                            EAffineXform._blurMixEnabled,
                            EAffineXform._blurNoiseRadius,
                            EAffineXform._blurPasses,
                            EAffineXform._blurTempBuffer,
                            EAffineXform._frameCount,
                            EAffineXform._lastUnsharpHeight,
                            EAffineXform._lastUnsharpWidth,
                            EAffineXform._overscanForBlur,
                            EAffineXform._overscanHeight,
                            EAffineXform._overscanWidth,
                            EAffineXform._previousBlurBuffers,
                            EAffineXform._previousBufferIndex,
                            EAffineXform._renderFromTopLeft,
                            EAffineXform._renderMethod,
                            EAffineXform._transformRowStride,
                            EAffineXform._unsharpHeight,
                            EAffineXform._unsharpTexture,
                            EAffineXform._unsharpWidth,
                            EAffineXform._usmAdaptiveAmount,
                            EAffineXform._usmBaseAmount,
                            EAffineXform._usmBlurRadius,
                            affineGPUMetal._P3ToBT2020ConversionMethod,
                            affineGPUMetal._blurBorderIndices,
                            affineGPUMetal._blurBorderVertices,
                            affineGPUMetal._blurEnabled,
                            affineGPUMetal._blurFrameCounter,
                            affineGPUMetal._blurMetalConfig,
                            affineGPUMetal._blurMixEnabled,
                            affineGPUMetal._blurNoiseRadius,
                            affineGPUMetal._blurOverscan,
                            affineGPUMetal._blurOverscanTrianglesIndices,
                            affineGPUMetal._blurOverscanTrianglesIndicesSize,
                            affineGPUMetal._blurPasses,
                            affineGPUMetal._blurPreviousTextureIndex,
                            affineGPUMetal._blurPreviousTextures,
                            affineGPUMetal._blurRadiusTable,
                            affineGPUMetal._blurRenderVertex,
                            affineGPUMetal._blurRenderVertexIndices,
                            affineGPUMetal._blurRenderVertexIndicesSize,
                            affineGPUMetal._blurRenderVertexSize,
                            affineGPUMetal._blurSwathVerticesInStabilizedImage,
                            affineGPUMetal._blurSwathVerticesInStabilizedImageSize,
                            affineGPUMetal._blurTempTextures,
                            affineGPUMetal._cvMetalTextureCacheRef,
                            affineGPUMetal._fillExtendedRowsInOutputBuffer,
                            affineGPUMetal._inputHeight,
                            affineGPUMetal._inputWidth,
                            affineGPUMetal._intermediateOutputPixelBuffer,
                            affineGPUMetal._isSynchronous, affineGPUMetal._m2m,
                            affineGPUMetal._metalContext,
                            affineGPUMetal._outputHeight,
                            affineGPUMetal._outputWidth,
                            affineGPUMetal._overscanHeight,
                            affineGPUMetal._overscanWidth,
                            affineGPUMetal._pipelineComputeStates,
                            affineGPUMetal._pipelineRenderStates,
                            affineGPUMetal._swathMatrices,
                            affineGPUMetal._swathMatricesSize,
                            affineGPUMetal._swathVertices,
                            affineGPUMetal._swathVerticesSize,
                            affineGPUMetal._texMatCount, affineGPUMetal._texMats,
                            affineGPUMetal._transformConfig,
                            affineGPUMetal._transformRowStride,
                            affineGPUMetal._useBicubic ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFArrayAppendValue, _CFArrayCreateMutable,
                            _CFArrayGetCount, _CFArrayGetTypeID,
                            _CFArrayGetValueAtIndex, _CFBooleanGetTypeID,
                            _CFBooleanGetValue, _CFDataCreate, _CFDataGetBytePtr,
                            _CFDataGetBytes, _CFDataGetLength,
                            _CFDictionaryAddValue, _CFDictionaryContainsKey,
                            _CFDictionaryCreateMutable,
                            _CFDictionaryCreateMutableCopy,
                            _CFDictionaryGetTypeID, _CFDictionaryGetValue,
                            _CFDictionarySetValue, _CFEqual, _CFGetTypeID,
                            _CFNumberCreate, _CFNumberGetType, _CFNumberGetTypeID,
                            _CFNumberGetValue, _CFRelease, _CFRetain,
                            _CFStringAppendFormat, _CFStringCreateMutable,
                            _CFStringGetCString,
                            _CGPointMakeWithDictionaryRepresentation,
                            _CGRectCreateDictionaryRepresentation,
                            _CGRectIntersection, _CGRectIsEmpty, _CGRectIsNull,
                            _CGRectMakeWithDictionaryRepresentation, _CGRectNull,
                            _CGRectZero, _CMBaseObjectGetDerivedStorage,
                            _CMDerivedObjectCreate, _CMGetAttachment,
                            _CMPropagateAttachments, _CMRemoveAttachment,
                            _CMSampleBufferCreateForImageBuffer,
                            _CMSampleBufferGetImageBuffer,
                            _CMSampleBufferGetPresentationTimeStamp,
                            _CMSampleBufferGetSampleTimingInfoArray,
                            _CMSetAttachment, _CMTimeGetSeconds,
                            _CMVideoFormatDescriptionCreateForImageBuffer,
                            _CVBufferGetAttachment, _CVBufferGetAttachments,
                            _CVBufferPropagateAttachments,
                            _CVBufferSetAttachment, _CVBufferSetAttachments,
                            _CVGetCurrentHostTime, _CVMetalTextureCacheCreate,
                            _CVMetalTextureCacheCreateTextureFromImage,
                            _CVMetalTextureCacheFlush, _CVMetalTextureGetTexture,
                            _CVPixelBufferCreate,
                            _CVPixelBufferCreateResolvedAttributesDictionary,
                            _CVPixelBufferGetAttributes,
                            _CVPixelBufferGetBaseAddress,
                            _CVPixelBufferGetBaseAddressOfPlane,
                            _CVPixelBufferGetBytesPerRowOfPlane,
                            _CVPixelBufferGetExtendedPixels,
                            _CVPixelBufferGetHeight,
                            _CVPixelBufferGetHeightOfPlane,
                            _CVPixelBufferGetIOSurface,
                            _CVPixelBufferGetPixelFormatType,
                            _CVPixelBufferGetPlaneCount, _CVPixelBufferGetWidth,
                            _CVPixelBufferGetWidthOfPlane,
                            _CVPixelBufferLockBaseAddress,
                            _CVPixelBufferPoolCreate,
                            _CVPixelBufferPoolCreatePixelBufferWithAuxAttributes,
                            _CVPixelBufferPoolGetTypeID,
                            _CVPixelBufferPoolRelease, _CVPixelBufferRelease,
                            _CVPixelBufferRetain,
                            _CVPixelBufferUnlockBaseAddress, _CreatePixelBuffer,
                            _FigCFArrayGetDoubleAtIndex,
                            _FigCFDictionaryGetBooleanIfPresent,
                            _FigCFDictionaryGetCGRectIfPresent,
                            _FigCFDictionaryGetDoubleIfPresent,
                            _FigCFDictionaryGetFloat32IfPresent,
                            _FigCFDictionaryGetFloatIfPresent,
                            _FigCFDictionaryGetInt32IfPresent,
                            _FigCFDictionaryGetInt64IfPresent,
                            _FigCFDictionaryGetIntIfPresent,
                            _FigCFDictionarySetInt32, _FigCFEqual,
                            _FigCreateIOSurfacePropertiesDictionary,
                            _FigCreatePixelBufferCacheModeArray, _FigGetUpTime,
                            _FigHostTimeToNanoseconds,
                            _FigSampleBufferProcessorGetClassID,
                            _FigSignalErrorAt, _IOSurfaceGetBaseAddressOfPlane,
                            _IOSurfaceGetBytesPerRowOfPlane,
                            _IOSurfaceGetHeightOfPlane, _IOSurfaceGetID,
                            _IOSurfaceGetPlaneCount, _IOSurfaceGetWidthOfPlane,
                            _MTLPixelFormatGetInfoForDevice, _NSLog,
                            _VTCompressionSessionCreate,
                            _VTCompressionSessionInvalidate,
                            _VTSessionCopyProperty, __Block_object_assign,
                            __Block_object_dispose, __NSConcreteStackBlock,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___NSDictionary0__struct, ___chkstk_darwin,
                            ___invert_f3, ___objc_personality_v0, ___sincos_stret,
                            ___stack_chk_fail, ___stack_chk_guard, ___stderrp,
                            __objc_empty_cache, _acos, _asin, _atan, _atof, _atoi, _bzero,
                            _calloc, _cos, _dispatch_semaphore_wait, _expf, _fclose,
                            _fopen, _fprintf, _fputc, _free, _glActiveTexture,
                            _glAttachShader, _glBindAttribLocation,
                            _glBindFramebuffer, _glBindRenderbuffer,
                            _glBindTexture, _glCheckFramebufferStatus, _glClear,
                            _glClearColor, _glCompileShader, _glCopyTexSubImage2D,
                            _glCreateProgram, _glCreateShader,
                            _glDeleteFencesAPPLE, _glDeleteFramebuffers,
                            _glDeleteProgram, _glDeleteRenderbuffers,
                            _glDeleteShader, _glDeleteTextures, _glDrawArrays,
                            _glDrawElements, _glEnableVertexAttribArray, _glFinish,
                            _glFinishFenceAPPLE, _glFinishObjectAPPLE, _glFlush,
                            _glFramebufferRenderbuffer, _glFramebufferTexture2D,
                            _glGenFencesAPPLE, _glGenFramebuffers,
                            _glGenRenderbuffers, _glGenTextures, _glGetIntegerv,
                            _glGetProgramiv, _glGetShaderiv, _glGetString,
                            _glGetUniformLocation, _glLinkProgram, _glReadPixels,
                            _glRenderbufferStorage, _glSetFenceAPPLE,
                            _glShaderSource, _glTestFenceAPPLE, _glTestObjectAPPLE,
                            _glTexImage2D, _glTexParameterf, _glTexParameteri,
                            _glUniform1f, _glUniform1i, _glUniform2f, _glUniform3f,
                            _glUniform4f, _glUseProgram, _glVertexAttribPointer,
                            _glViewport, _kCFAllocatorDefault, _kCFBooleanFalse,
                            _kCFBooleanTrue, _kCFTypeArrayCallBacks,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks,
                            _kCVBufferPropagatedAttachmentsKey,
                            _kCVImageBufferColorPrimariesKey,
                            _kCVImageBufferColorPrimaries_ITU_R_2020,
                            _kCVImageBufferTransferFunctionKey,
                            _kCVImageBufferTransferFunction_ITU_R_2100_HLG,
                            _kCVImageBufferYCbCrMatrixKey,
                            _kCVImageBufferYCbCrMatrix_ITU_R_2020,
                            _kCVMetalTextureCacheMaximumTextureAgeKey,
                            _kCVMetalTextureUsage, _kCVPixelBufferCacheModeKey,
                            _kCVPixelBufferExtendedPixelsFilledKey,
                            _kCVPixelBufferHeightKey,
                            _kCVPixelBufferIOSurfacePropertiesKey,
                            _kCVPixelBufferPixelFormatTypeKey,
                            _kCVPixelBufferWidthKey,
                            _kEAGLContextPropertyAccelerated,
                            _kFigCaptureCameraInfoKey_BaseZoomFactor,
                            _kFigCaptureCameraInfoKey_CameraViewMatrix,
                            _kFigCaptureCameraInfoKey_OpticalCenterOffset,
                            _kFigCapturePortType_BackFacingCamera,
                            _kFigCapturePortType_BackFacingSparseTimeOfFlightCamera,
                            _kFigCapturePortType_BackFacingSuperWideCamera,
                            _kFigCapturePortType_BackFacingTelephotoCamera,
                            _kFigCapturePortType_FrontFacingCamera,
                            _kFigCapturePortType_FrontFacingInfraredCamera,
                            _kFigCapturePortType_FrontFacingSuperWideCamera,
                            _kFigCaptureSampleBufferAttachmentKey_LensPosition,
                            _kFigCaptureSampleBufferAttachmentKey_MetadataDictionary,
                            _kFigCaptureSampleBufferProcessorOption_CameraInfoByPortType,
                            _kFigCaptureSampleBufferProcessorOption_SensorIDDictionary,
                            _kFigCaptureSampleBufferProcessorProperty_PixelBufferPool,
                            _kFigCaptureSampleBufferProcessorProperty_PixelBufferPoolAllocationSemaphore,
                            _kFigCaptureSampleBufferProcessorProperty_PixelBufferPoolAuxAttributes,
                            _kFigCaptureSensorIDDictionaryKey_VideoStabilizationRenderMethod,
                            _kFigCaptureSensorIDDictionaryKey_VideoStabilizationUseOpenGLES3,
                            _kFigCaptureStreamMetadata_AFStatus,
                            _kFigCaptureStreamMetadata_CurrentFocusPosition,
                            _kFigCaptureStreamMetadata_EffectiveFocalLength,
                            _kFigCaptureStreamMetadata_ExposureTime,
                            _kFigCaptureStreamMetadata_FrameRollingShutterSkew,
                            _kFigCaptureStreamMetadata_ISPMotionDataBiasErrorEstimate,
                            _kFigCaptureStreamMetadata_PinholeCameraFocalLength,
                            _kFigCaptureStreamMetadata_PortType,
                            _kFigCaptureStreamMetadata_PracticalFocalLength,
                            _kFigCaptureStreamMetadata_RollingShutterSkew,
                            _kFigCaptureStreamMetadata_SphereMode,
                            _kFigCaptureStreamMetadata_ValidBufferRect,
                            _kFigCaptureVideoStabilizationMetadata_CinematicFutureMetadata,
                            _kFigCaptureVideoStabilizationMetadata_CinematicFutureMetadataInitializationArray,
                            _kFigCaptureVideoStabilizationMetadata_CinematicFutureMetadataSerialNumber,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_FramePTSSeconds,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_FusedMotion,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_GroupDelayCompensationApplied,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_MotionAttachmentsISPHallData,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_MotionAttachmentsISPMotionData,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_MotionData,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_ScalingFactor,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_SphereScalingFactor,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_StereoStitchingNarrowBufferRect,
                            _kFigMotionAttachmentsSampleBufferProcessorMetadata_VideoStabilizationDigitalZoomFactor,
                            _kFigSampleBufferProcessorProperty_ConvenienceString,
                            _kFigSampleBufferProcessorProperty_SourcePixelBufferAttributes,
                            _kFigStereoStitchingBundleMetadata_StereoStitchingSucceeded,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_CenterStabilizationInvertedTransform,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_EstimatedCenterMotionVector,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_EstimatedMotionBlurVector,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_GPUTransformsParameters,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_ISPStripTransformsParameters,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_RemainingDigitalZoomAfterVIS,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_StabilizedOutputCenterQuaternion,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_StabilizedTrajectoryHomography,
                            _kFigVideoStabilizationSampleBufferAttachmentKey_StabilizedTrajectoryHomographyTimestamp,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_CinematicFutureOutputFramePTS,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_FrameRateConversionStatus,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_InputFrameCropOffset,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_LivePhotoKeyFrame,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_OverscanLimitingRect,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_StitchingCleanApertureRect,
                            _kFigVideoStabilizationSampleBufferProcessorMetadata_VitalityTransformMatrix,
                            _kFigVideoStabilizationSampleBufferProcessorOption_AttachEstimatedMotionVector,
                            _kFigVideoStabilizationSampleBufferProcessorOption_AttachStabilizedOutputCenterQuaternion,
                            _kFigVideoStabilizationSampleBufferProcessorOption_AttachStabilizedTrajectoryHomography,
                            _kFigVideoStabilizationSampleBufferProcessorOption_BlockOnLastBuffer,
                            _kFigVideoStabilizationSampleBufferProcessorOption_BlurBorderPixels,
                            _kFigVideoStabilizationSampleBufferProcessorOption_CinematicLookAheadFrameCount,
                            _kFigVideoStabilizationSampleBufferProcessorOption_CinematicLookAheadTime,
                            _kFigVideoStabilizationSampleBufferProcessorOption_EnableSphereCorrection,
                            _kFigVideoStabilizationSampleBufferProcessorOption_InputPixelBufferAttributes,
                            _kFigVideoStabilizationSampleBufferProcessorOption_LivePhotoCleanOutputRect,
                            _kFigVideoStabilizationSampleBufferProcessorOption_NumberOfExtendedRowsOfOutputBufferToFill,
                            _kFigVideoStabilizationSampleBufferProcessorOption_OnlyGenerateTransformsParameters,
                            _kFigVideoStabilizationSampleBufferProcessorOption_OutputMode,
                            _kFigVideoStabilizationSampleBufferProcessorOption_OutputPixelBufferAttributes,
                            _kFigVideoStabilizationSampleBufferProcessorOption_SmoothingMethod,
                            _kFigVideoStabilizationSampleBufferProcessorOption_TransformPlatform,
                            _kFigVideoStabilizationSampleBufferProcessorOption_UseISPMotionData,
                            _kFigVideoStabilizationSampleBufferProcessorOutputMode_BlackBar,
                            _kFigVideoStabilizationSampleBufferProcessorOutputMode_Crop,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_FlipHorizontalOrientation,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_FrameRateConversionEnabled,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_LongPressModeEnabled,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_P3ToBT2020ConversionEnabled,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_SphereVideoEnabled,
                            _kFigVideoStabilizationSampleBufferProcessorProperty_VideoStabilizationDisabled,
                            _kIOSurfaceCacheMode,
                            _kVTCompressionPropertyKey_VideoEncoderPixelBufferAttributes,
                            _mach_timebase_info, _malloc, _memcpy, _memmove, _memset,
                            _memset_pattern16, _objc_alloc, _objc_alloc_init,
                            _objc_autoreleaseReturnValue,
                            _objc_enumerationMutation, _objc_msgSend,
                            _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new, _objc_release,
                            _objc_retain, _objc_retainAutoreleasedReturnValue,
                            _objc_storeStrong, _powf, _puts, _sin, _strcasestr, _strcmp,
                            _strlen, _strnstr, _strsep, _strstr, _sysctlbyname, _usleep,
                            _videoStabilizationUsesOpenGLES3, dyld_stub_binder ]
    objc-classes:         [ EAGLContext, FigM2MController, FigMetalContext,
                            MTLFunctionConstantValues, MTLRenderPassDescriptor,
                            MTLRenderPipelineDescriptor, NSConstantArray,
                            NSConstantDictionary, NSConstantIntegerNumber,
                            NSDictionary, NSMutableArray, NSMutableDictionary,
                            NSObject ]
...

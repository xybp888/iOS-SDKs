--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/HIDPlugins/IOHIDKeyboardFilter.plugin/IOHIDKeyboardFilter
current-version:       0
compatibility-version: 0
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _IOHIDKeyboardFilterFactory, __Z10isModifierjj,
                            __Z10isShiftKeyjj, __Z13isNotRepeatedjj,
                            __Z16getModifierIndexjj, __Z16getUsageForIndexjRjS_,
                            __Z16isStickyModifierjj,
                            __Z22makeModifierLeftHandedj,
                            __Z25getUsageForLegacyModifieraRjS_,
                            __ZN19IOHIDKeyboardFilter12isKeyPressedE3Key,
                            __ZN19IOHIDKeyboardFilter12resetSlowKeyEv,
                            __ZN19IOHIDKeyboardFilter13isNumLockModeEv,
                            __ZN19IOHIDKeyboardFilter13stopStickyKeyEv,
                            __ZN19IOHIDKeyboardFilter14QueryInterfaceE11CFUUIDBytesPPv,
                            __ZN19IOHIDKeyboardFilter14QueryInterfaceEPv11CFUUIDBytesPS0_,
                            __ZN19IOHIDKeyboardFilter14isDelayedEventEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter14startStickyKeyEv,
                            __ZN19IOHIDKeyboardFilter15dispatchLockKeyEv,
                            __ZN19IOHIDKeyboardFilter15dispatchSlowKeyEv,
                            __ZN19IOHIDKeyboardFilter15processKeyStateEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter15processShiftKeyEv,
                            __ZN19IOHIDKeyboardFilter15processSlowKeysEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter15resetStickyKeysEv,
                            __ZN19IOHIDKeyboardFilter16dispatchCapsLockEv,
                            __ZN19IOHIDKeyboardFilter16setCapsLockStateEiPKv,
                            __ZN19IOHIDKeyboardFilter16setEventCallbackEPFvPvS0_S0_P12__IOHIDEventjES0_S0_,
                            __ZN19IOHIDKeyboardFilter16setEventCallbackEPvPFvS0_S0_S0_P12__IOHIDEventjES0_S0_,
                            __ZN19IOHIDKeyboardFilter17dispatchEventCopyEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter17dispatchKeyRepeatEv,
                            __ZN19IOHIDKeyboardFilter17getStickyKeyStateEjj,
                            __ZN19IOHIDKeyboardFilter17processFnKeyStateEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter17processKeyRepeatsEP12__IOHIDEventjj,
                            __ZN19IOHIDKeyboardFilter17processStickyKeysEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter17resetLockKeyDelayEv,
                            __ZN19IOHIDKeyboardFilter17setStickyKeyStateEjjj,
                            __ZN19IOHIDKeyboardFilter17updateCapslockLEDEPKv,
                            __ZN19IOHIDKeyboardFilter18dispatchStickyKeysEi,
                            __ZN19IOHIDKeyboardFilter18isModifiersPressedEv,
                            __ZN19IOHIDKeyboardFilter18processKeyMappingsEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter18processStickyKeyUpEjjRj,
                            __ZN19IOHIDKeyboardFilter18resetCapsLockDelayEv,
                            __ZN19IOHIDKeyboardFilter19processLockKeyDelayEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter19setEjectKeyPropertyEj,
                            __ZN19IOHIDKeyboardFilter20defaultEventCallbackEPvS0_S0_P12__IOHIDEventj,
                            __ZN19IOHIDKeyboardFilter20processCapsLockDelayEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter20processCapsLockStateEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter20processStickyKeyDownEjjRj,
                            __ZN19IOHIDKeyboardFilter20setPropertyForClientEPK10__CFStringPKvS4_,
                            __ZN19IOHIDKeyboardFilter20setPropertyForClientEPvPK10__CFStringPKvS5_,
                            __ZN19IOHIDKeyboardFilter21copyPropertyForClientEPK10__CFStringPKv,
                            __ZN19IOHIDKeyboardFilter21copyPropertyForClientEPvPK10__CFStringPKv,
                            __ZN19IOHIDKeyboardFilter21updateStickyKeysStateEjj,
                            __ZN19IOHIDKeyboardFilter22createMapFromStringMapEPK10__CFString,
                            __ZN19IOHIDKeyboardFilter24sIOHIDKeyboardFilterFtblE,
                            __ZN19IOHIDKeyboardFilter25createMapFromArrayOfPairsEPK9__CFArray,
                            __ZN19IOHIDKeyboardFilter25scheduleWithDispatchQueueEPU28objcproto17OS_dispatch_queue8NSObject,
                            __ZN19IOHIDKeyboardFilter25scheduleWithDispatchQueueEPvPU28objcproto17OS_dispatch_queue8NSObject,
                            __ZN19IOHIDKeyboardFilter27unscheduleFromDispatchQueueEPU28objcproto17OS_dispatch_queue8NSObject,
                            __ZN19IOHIDKeyboardFilter27unscheduleFromDispatchQueueEPvPU28objcproto17OS_dispatch_queue8NSObject,
                            __ZN19IOHIDKeyboardFilter4openEP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter4openEPvP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter5closeEP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter5closeEPvP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter5matchEP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter5matchEPvP14__IOHIDServicej,
                            __ZN19IOHIDKeyboardFilter6AddRefEPv,
                            __ZN19IOHIDKeyboardFilter6AddRefEv,
                            __ZN19IOHIDKeyboardFilter6filterEP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter6filterEPvP12__IOHIDEvent,
                            __ZN19IOHIDKeyboardFilter7ReleaseEPv,
                            __ZN19IOHIDKeyboardFilter7ReleaseEv,
                            __ZN19IOHIDKeyboardFilter8remapKeyE3Key,
                            __ZN19IOHIDKeyboardFilterC1EPK8__CFUUID,
                            __ZN19IOHIDKeyboardFilterC2EPK8__CFUUID,
                            __ZN19IOHIDKeyboardFilterD1Ev,
                            __ZN19IOHIDKeyboardFilterD2Ev,
                            __ZNK19IOHIDKeyboardFilter15serializeMapperERKNSt3__13mapI3KeyS2_NS0_4lessIS2_EENS0_9allocatorINS0_4pairIKS2_S2_EEEEEE,
                            __ZNK19IOHIDKeyboardFilter9serializeEP14__CFDictionary,
                            __ZNK3Key10isModifierEv ]
    objc-classes:         [ AppleKeyboardStateManager, StickyKeyHandler ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFAllocatorAllocate, _CFArrayAppendValue,
                            _CFArrayCreateMutable, _CFArrayGetCount,
                            _CFArrayGetTypeID, _CFArrayGetValueAtIndex,
                            _CFBooleanGetTypeID, _CFBooleanGetValue,
                            _CFDictionaryCreateMutable, _CFDictionaryGetTypeID,
                            _CFDictionaryGetValue, _CFDictionarySetValue, _CFEqual,
                            _CFGetAllocator, _CFGetTypeID, _CFNumberCreate,
                            _CFNumberGetTypeID, _CFNumberGetValue,
                            _CFPlugInAddInstanceForFactory,
                            _CFPlugInRemoveInstanceForFactory, _CFRelease,
                            _CFRetain, _CFStringCompare, _CFStringGetCStringPtr,
                            _CFStringGetTypeID, _CFUUIDCreateFromUUIDBytes,
                            _CFUUIDGetConstantUUIDWithBytes,
                            _IOHIDEventCreateKeyboardEvent,
                            _IOHIDEventCreateVendorDefinedEvent,
                            _IOHIDEventGetEventFlags, _IOHIDEventGetIntegerValue,
                            _IOHIDEventGetType, _IOHIDEventSetEventFlags,
                            _IOHIDEventSetIntegerValue, _IOHIDEventSetTimeStamp,
                            _IOHIDServiceConformsTo, _IOHIDServiceCopyProperty,
                            _IOHIDServiceGetRegistryID,
                            _IOHIDServiceSetElementValue,
                            _IOHIDServiceSetProperty, __Block_object_assign,
                            __Block_object_dispose, __IOHIDEventCopyAttachment,
                            __IOHIDEventRemoveAttachment,
                            __IOHIDEventSetAttachment, __NSConcreteStackBlock,
                            __Unwind_Resume,
                            __ZNKSt3__121__basic_string_commonILb1EE20__throw_length_errorEv,
                            __ZNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc,
                            __ZNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc,
                            __ZNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEaSERKS5_,
                            __ZNSt3__113basic_istreamIcNS_11char_traitsIcEEE6sentryC1ERS3_b,
                            __ZNSt3__113basic_istreamIcNS_11char_traitsIcEEED0Ev,
                            __ZNSt3__113basic_istreamIcNS_11char_traitsIcEEED1Ev,
                            __ZNSt3__113basic_istreamIcNS_11char_traitsIcEEED2Ev,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE4syncEv,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE5imbueERKNS_6localeE,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE5uflowEv,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE6setbufEPcl,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE6xsgetnEPcl,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE6xsputnEPKcl,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE9showmanycEv,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEEC2Ev,
                            __ZNSt3__115basic_streambufIcNS_11char_traitsIcEEED2Ev,
                            __ZNSt3__15stoulERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi,
                            __ZNSt3__18ios_base4initEPv,
                            __ZNSt3__18ios_base5clearEj,
                            __ZNSt3__19basic_iosIcNS_11char_traitsIcEEED2Ev,
                            __ZSt9terminatev,
                            __ZTINSt3__113basic_istreamIcNS_11char_traitsIcEEEE,
                            __ZTINSt3__115basic_streambufIcNS_11char_traitsIcEEEE,
                            __ZTVN10__cxxabiv117__class_type_infoE,
                            __ZTVN10__cxxabiv120__si_class_type_infoE,
                            __ZTv0_n24_NSt3__113basic_istreamIcNS_11char_traitsIcEEED0Ev,
                            __ZTv0_n24_NSt3__113basic_istreamIcNS_11char_traitsIcEEED1Ev,
                            ___CFConstantStringClassReference,
                            ___cxa_begin_catch, ___cxa_end_catch, ___cxa_rethrow,
                            ___gxx_personality_v0, ___objc_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __dispatch_source_type_timer, __objc_empty_cache,
                            __os_log_debug_impl, __os_log_error_impl,
                            __os_log_impl, _dispatch_async, _dispatch_once,
                            _dispatch_resume, _dispatch_source_cancel,
                            _dispatch_source_create,
                            _dispatch_source_set_event_handler,
                            _dispatch_source_set_timer, _dispatch_time,
                            _kCFAllocatorDefault, _kCFAllocatorSystemDefault,
                            _kCFBooleanFalse, _kCFBooleanTrue,
                            _kCFTypeArrayCallBacks,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks,
                            _kIOHIDServiceCapsLockLEDKey,
                            _kIOHIDServiceCapsLockLEDKey_Auto,
                            _kIOHIDServiceCapsLockLEDKey_Inhibit,
                            _kIOHIDServiceCapsLockLEDKey_Off,
                            _kIOHIDServiceCapsLockLEDKey_On, _mach_absolute_time,
                            _memcpy, _memset_pattern16, _objc_alloc,
                            _objc_alloc_init, _objc_msgSend, _objc_msgSendSuper2,
                            _objc_opt_new, _objc_release, _objc_retain,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_storeStrong, _objc_sync_enter, _objc_sync_exit,
                            _os_log_create, _os_log_type_enabled, _strlen,
                            dyld_stub_binder ]
    objc-classes:         [ NSMutableSet, NSNotificationCenter, NSObject ]
...

--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/MobileSoftwareUpdate.framework/MobileSoftwareUpdate
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _MSUApplyUpdate, _MSUAssetCalculateApplySize,
                            _MSUAssetCalculateInstallationSize,
                            _MSUAssetCalculatePrepareSize, _MSUBrainIsLoadable,
                            _MSUCheckInstallationSize, _MSUCheckPreparationSize,
                            _MSUCloseUpdateHandle, _MSUCommitStash,
                            _MSUCopyConnectivityData, _MSUCopyEnvInfoForNeRD,
                            _MSUCopyInstalledRecoveryOSVersion,
                            _MSUCopyPreviousUpdateAllToleratedFailures,
                            _MSUCopyToleratedStatusForStep,
                            _MSUDidLastUpdateBasebandTolerateFailure,
                            _MSUGetUpdateInfo, _MSUIsFirstBootAfterUpdate,
                            _MSUParsedToleratedFailureForStep,
                            _MSUPreflightUpdate, _MSUPrepareUpdate,
                            _MSUPrepareUpdateWithAsset,
                            _MSUPrepareUpdateWithMAAsset,
                            _MSUPurgeSuspendedUpdate,
                            _MSUReportAndCleanupPreviousUpdateState,
                            _MSUResumeUpdate, _MSUResumeUpdateWithOptions,
                            _MSURetrievePreviousRestoreDate,
                            _MSURetrievePreviousUpdateDate,
                            _MSURetrievePreviousUpdateFirstToleratedFailure,
                            _MSURetrievePreviousUpdateResults,
                            _MSURetrievePreviousUpdateState, _MSUSuspendUpdate,
                            _kCFErrorDomainMobileSoftwareUpdate,
                            _kCFErrorDomainPersonalization,
                            _kMSUOptionsAdditionalBootTimeInstalls,
                            _kMSUOptionsBrainLocationKey,
                            _kMSUOptionsDoNotFailBack,
                            _kMSUOptionsKeyAllowSpecialCaseDeletions,
                            _kMSUOptionsKeyAlternateBlessTargetUUID,
                            _kMSUOptionsKeyAppleConnectCredentials,
                            _kMSUOptionsKeyAppleConnectCredentialsSubkeyAccountName,
                            _kMSUOptionsKeyAppleConnectCredentialsSubkeyPassword,
                            _kMSUOptionsKeyAppleConnectSsoToken,
                            _kMSUOptionsKeyBootedOSUUID,
                            _kMSUOptionsKeyBootedOSVersion,
                            _kMSUOptionsKeyBridgeOSDownloadDirectory,
                            _kMSUOptionsKeyBridgeOSIgnoreMinimumVersionCheck,
                            _kMSUOptionsKeyBridgeOSVersionToInstall,
                            _kMSUOptionsKeyBuild,
                            _kMSUOptionsKeyClientProvidedTargetUUID,
                            _kMSUOptionsKeyCoreDeviceDeviceBoardID,
                            _kMSUOptionsKeyCoreDeviceDeviceClass,
                            _kMSUOptionsKeyCoreDeviceHWModelString,
                            _kMSUOptionsKeyCoreDeviceInformation,
                            _kMSUOptionsKeyCoreDeviceProductType,
                            _kMSUOptionsKeyCoreDeviceReleaseType,
                            _kMSUOptionsKeyDidRequestEraseInstall,
                            _kMSUOptionsKeyDoNotPatch,
                            _kMSUOptionsKeyDoNotPersonalize,
                            _kMSUOptionsKeyEnableBridgeOSInstall,
                            _kMSUOptionsKeyEnableEmbeddedOSInstall,
                            _kMSUOptionsKeyEnableManagedRequest,
                            _kMSUOptionsKeyEnableOSPersonalization,
                            _kMSUOptionsKeyEventStats,
                            _kMSUOptionsKeyFirstPreflightPhase,
                            _kMSUOptionsKeyGenericUpdaterInfoOverrides,
                            _kMSUOptionsKeyIcefallSEUpdaterInfoOverride,
                            _kMSUOptionsKeyIsMinorOSUpdate,
                            _kMSUOptionsKeyLocalAuthenticationContextKey,
                            _kMSUOptionsKeyLocalAuthenticationUserIDKey,
                            _kMSUOptionsKeyMediumSecurityDowngrade,
                            _kMSUOptionsKeyPatchdCRCFailOnce,
                            _kMSUOptionsKeyPatchdFailAt,
                            _kMSUOptionsKeyPatchdFailureType,
                            _kMSUOptionsKeyPersonalizationServerURL,
                            _kMSUOptionsKeyPersonalizationVariant,
                            _kMSUOptionsKeyPersonalizedManifestRootsPath,
                            _kMSUOptionsKeyPreflightDoUserSanityChecking,
                            _kMSUOptionsKeyPreflightExtraSpaceBoot,
                            _kMSUOptionsKeyPreflightExtraSpaceTarget,
                            _kMSUOptionsKeyPreflightExtraSpaceUpdate,
                            _kMSUOptionsKeyPreflightInfoPlist,
                            _kMSUOptionsKeyPreparePath,
                            _kMSUOptionsKeyPrepareSnapshot,
                            _kMSUOptionsKeyQualityOfService,
                            _kMSUOptionsKeyReadWriteSystemPartition,
                            _kMSUOptionsKeyRecordPreflightEvents,
                            _kMSUOptionsKeyReleaseType,
                            _kMSUOptionsKeyRestoreVersion,
                            _kMSUOptionsKeyRosettaVersionToInstall,
                            _kMSUOptionsKeySFRBundlePath,
                            _kMSUOptionsKeySFRUpdateOnly,
                            _kMSUOptionsKeySFRUpdateProvided,
                            _kMSUOptionsKeySavageUpdaterInfoOverride,
                            _kMSUOptionsKeySeedingProgram,
                            _kMSUOptionsKeyShouldMigrate,
                            _kMSUOptionsKeyShouldPerformBridgeOSUpdate,
                            _kMSUOptionsKeyShouldPerformRosettaUpdate,
                            _kMSUOptionsKeySkipLocalAuthenticationKey,
                            _kMSUOptionsKeySkipStashbagCommitKey,
                            _kMSUOptionsKeySkipVolumeSealing,
                            _kMSUOptionsKeySocksProxy, _kMSUOptionsKeySourcePath,
                            _kMSUOptionsKeySystemPartitionReserveMiB,
                            _kMSUOptionsKeyTargetUUID,
                            _kMSUOptionsKeyTargetUpdate,
                            _kMSUOptionsKeyUpdateOSBackgroundImagePath,
                            _kMSUOptionsKeyUpdateOSDisplayHeight,
                            _kMSUOptionsKeyUpdateOSDisplayRefreshRate,
                            _kMSUOptionsKeyUpdateOSDisplayWidth,
                            _kMSUOptionsKeyUpdateUUID,
                            _kMSUOptionsKeyUsePreflightUpdate,
                            _kMSUOptionsKeyUserAgentString,
                            _kMSUOptionsKeyUserInitiated,
                            _kMSUOptionsKeyVolumeUUIDToErase,
                            _kMSUPersonalizationVariantDevelopment,
                            _kMSUPersonalizationVariantRelease,
                            _kMSUSFRUpdateAttributesDictionaryKey,
                            _kMSUStatusKeyActionText,
                            _kMSUStatusKeyAverageBytesReadPerMs,
                            _kMSUStatusKeyAverageBytesWrittenPerMs,
                            _kMSUStatusKeyElapsedTime, _kMSUStatusKeyMessageType,
                            _kMSUStatusKeyPercentBytesComplete,
                            _kMSUStatusKeyPercentComplete,
                            _kMSUStatusKeyTotalBytesRead,
                            _kMSUStatusKeyTotalBytesWritten,
                            _kMSUStatusKeyTotalMsRead,
                            _kMSUStatusKeyTotalMsWritten,
                            _kMSUStatusKeyUpdateAttributes,
                            _kMSUStatusValueMessageTypeFoundUpdate,
                            _kMSUUpdateAttributesDictionaryKey,
                            _kMSUUpdatePrerequisiteShouldCheckEncrypted,
                            _kMSUUpdatePrerequisiteShouldCheckSnapshotBooted,
                            _kMSUUpdateToleratedStepKeyError,
                            _kMSUUpdateToleratedStepKeyEventUnique,
                            _kMSUUpdateToleratedStepKeyFailureNumber,
                            _kMSUUpdateToleratedStepKeyRebootRetry,
                            _kMSUUpdateToleratedStepKeyResult,
                            _kMSUUpdateToleratedStepKeySkipped,
                            _kMSUUpdateToleratedStepKeyStepIdentifier,
                            _kMSUUpdateToleratedStepKeyStepName,
                            _kMSUUpdateToleratedStepValueUnrecognizedStep,
                            _kMSUUpdateToleratedStepValueUpdateBaseband,
                            _qos_class_for_msu_qos ]
    objc-classes:         [ MSUUpdateBrainAssetLoader, MSUUpdateBrainLoader ]
    objc-ivars:           [ MSUUpdateBrainAssetLoader._updateAsset,
                            MSUUpdateBrainLoader._attributesDict ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _ASOperationCompleted, _ASStateOperation,
                            _CFArrayCreateMutableCopy, _CFArrayGetCount,
                            _CFArrayGetTypeID, _CFArrayGetValueAtIndex,
                            _CFArraySetValueAtIndex, _CFBooleanGetTypeID,
                            _CFBooleanGetValue, _CFDateGetTypeID,
                            _CFDictionaryAddValue, _CFDictionaryApplyFunction,
                            _CFDictionaryContainsKey, _CFDictionaryCreate,
                            _CFDictionaryCreateMutable,
                            _CFDictionaryCreateMutableCopy,
                            _CFDictionaryGetTypeID, _CFDictionaryGetValue,
                            _CFDictionarySetValue, _CFErrorCopyUserInfo,
                            _CFErrorCreate, _CFErrorGetCode, _CFErrorGetDomain,
                            _CFErrorGetTypeID, _CFGetTypeID, _CFNumberCreate,
                            _CFNumberGetTypeID, _CFNumberGetValue, _CFRelease,
                            _CFRetain, _CFStringCreateWithCString,
                            _CFStringCreateWithFormatAndArguments,
                            _CFStringGetCString, _CFStringGetLength,
                            _CFStringGetMaximumSizeForEncoding,
                            _NSKeyedArchiveRootObjectKey, __Block_object_assign,
                            __Block_object_dispose,
                            __CFXPCCreateCFObjectFromXPCObject,
                            __CFXPCCreateXPCObjectFromCFObject,
                            __NSConcreteGlobalBlock, __NSConcreteStackBlock,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___kCFBooleanFalse, ___kCFBooleanTrue,
                            ___objc_personality_v0, ___stack_chk_fail,
                            ___stack_chk_guard, ___stderrp, __objc_empty_cache,
                            __os_log_error_impl, __os_log_impl,
                            __xpc_error_connection_interrupted,
                            __xpc_error_key_description, __xpc_type_dictionary,
                            __xpc_type_error, _dispatch_async,
                            _dispatch_get_global_queue, _dispatch_once,
                            _dispatch_queue_create, _dispatch_release,
                            _dispatch_semaphore_create,
                            _dispatch_semaphore_signal, _dispatch_semaphore_wait,
                            _dispatch_sync, _fprintf, _free, _getenv,
                            _kCFAllocatorDefault, _kCFBooleanTrue,
                            _kCFErrorLocalizedDescriptionKey,
                            _kCFErrorUnderlyingErrorKey,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks, _malloc, _memcpy,
                            _objc_alloc, _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleasePoolPop, _objc_autoreleasePoolPush,
                            _objc_enumerationMutation, _objc_getProperty,
                            _objc_msgSend, _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_release, _objc_retain,
                            _objc_setProperty_atomic,
                            _objc_setProperty_nonatomic, _open,
                            _os_log_type_enabled, _strlen, _strncmp,
                            _xpc_connection_cancel,
                            _xpc_connection_create_from_endpoint,
                            _xpc_connection_create_mach_service,
                            _xpc_connection_get_context, _xpc_connection_resume,
                            _xpc_connection_send_message,
                            _xpc_connection_send_message_with_reply_sync,
                            _xpc_connection_set_context,
                            _xpc_connection_set_event_handler,
                            _xpc_connection_set_finalizer_f,
                            _xpc_connection_set_target_queue,
                            _xpc_copy_description, _xpc_dictionary_create,
                            _xpc_dictionary_create_reply,
                            _xpc_dictionary_get_remote_connection,
                            _xpc_dictionary_get_string,
                            _xpc_dictionary_get_value, _xpc_dictionary_set_data,
                            _xpc_dictionary_set_double,
                            _xpc_dictionary_set_string,
                            _xpc_dictionary_set_value, _xpc_get_type, _xpc_release,
                            _xpc_retain, dyld_stub_binder ]
    objc-classes:         [ NSArray, NSDictionary, NSKeyedArchiver, NSLocale,
                            NSMutableArray, NSMutableDictionary, NSMutableIndexSet,
                            NSNumber, NSObject, NSSortDescriptor, NSString, SUCoreLog ]
...

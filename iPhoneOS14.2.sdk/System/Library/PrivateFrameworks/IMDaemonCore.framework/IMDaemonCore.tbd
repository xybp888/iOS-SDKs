--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/IMDaemonCore.framework/IMDaemonCore
current-version:       800
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CKRecordFileTransferAssetKey,
                            _CKRecordFileTransferAttachmentCompressedMetadataKey,
                            _CKRecordFileTransferAttachmentGuidKey,
                            _CKRecordFileTransferAttachmentMetadataKey,
                            _CKRecordFileTransferAttributionInfoKey,
                            _CKRecordFileTransferAuxVideoAssetKey,
                            _CKRecordFileTransferAuxVideoLastPathComponentKey,
                            _CKRecordFileTransferCreatedDateKey,
                            _CKRecordFileTransferFileNameKey,
                            _CKRecordFileTransferHideAttachmentKey,
                            _CKRecordFileTransferIncomingKey,
                            _CKRecordFileTransferIsStickerKey,
                            _CKRecordFileTransferLastPathComponentKey,
                            _CKRecordFileTransferStartDateKey,
                            _CKRecordFileTransferStateKey,
                            _CKRecordFileTransferStickerUserInfoKey,
                            _CKRecordFileTransferTotalBytesKey,
                            _CKRecordFileTransferTransferNameKey,
                            _CKRecordFileTransferTypeKey,
                            _CKRecordFileTransferUserInfoKey,
                            _CKRecordFileTransferVersionKey,
                            _CKRecordIMItemBalloonBundleID, _CKRecordIMItemBody,
                            _CKRecordIMItemCompressedProtobuf,
                            _CKRecordIMItemCompressedProtobufP2,
                            _CKRecordIMItemErrorCode,
                            _CKRecordIMItemExpressiveSendStyleID,
                            _CKRecordIMItemFlags, _CKRecordIMItemGUID,
                            _CKRecordIMItemParentChatID,
                            _CKRecordIMItemPayloadData, _CKRecordIMItemService,
                            _CKRecordIMItemSubClassType, _CKRecordIMItemSubject,
                            _CKRecordIMItemSummaryInfo, _CKRecordIMItemTime,
                            _CKRecordIMItemTimeDelivered,
                            _CKRecordIMItemTimePlayed, _CKRecordIMItemTimeRead,
                            _CKRecordIMItemUnencryptedTime,
                            _CKRecordIMMessageIncompatibleDeleteNotification,
                            _CKRecordKeyChatClientGroupID,
                            _CKRecordKeyChatDisplayName, _CKRecordKeyChatGuid,
                            _CKRecordKeyChatIdentifier,
                            _CKRecordKeyChatIsFiltered,
                            _CKRecordKeyChatLastAddressedHandle,
                            _CKRecordKeyChatOriginalGroupID,
                            _CKRecordKeyChatParticipants,
                            _CKRecordKeyChatProperties,
                            _CKRecordKeyChatReadWaterMark,
                            _CKRecordKeyChatService, _CKRecordKeyChatState,
                            _CKRecordKeyChatStyle,
                            _CKRecordKeyChatSuccessFullQuery,
                            _IMAttachmentSyncFailed, _IMAttachmentSyncStarted,
                            _IMAttachmentSyncStoppedDueToDeviceConditions,
                            _IMBackUpCompletedRecently,
                            _IMBackUpNotCompletedRecently,
                            _IMBackupDisabledKeyroll,
                            _IMBackupDisabledKeyrollNotification,
                            _IMBackupDisabledKeyrollTestNotification,
                            _IMBackupDisabledSuccessfullKeyroll,
                            _IMBackupDisabledSuccessfullKeyrollNotification,
                            _IMBackupDisabledTestToggledKeyroll,
                            _IMBackupDisabledUserToggledKeyroll,
                            _IMCrashDuringFirstSync,
                            _IMCreateIMDChatFromIMDChatRecordRef,
                            _IMCreateIMDChatRecordRefWithIMDChat,
                            _IMDAttachmentRecordRefFromIMFileTransfer,
                            _IMDCKAllAliases, _IMDCKAttachmentSyncErrorDomain,
                            _IMDCKCacheDeleteAutoCaptureSubtype,
                            _IMDCKChatSyncControllerErrorDomain,
                            _IMDCKMessageSyncControllerErrorDomain,
                            _IMDCKSelectedAliases, _IMDCKUtilitiesABCSubtype,
                            _IMDCKUtilitiesErrorDomain,
                            _IMDCreateIMMessageItemFromIMDMessageRecordLoadAttachmentIfNeededRef,
                            _IMDCreateIMMessageItemFromIMDMessageRecordRef,
                            _IMDFileTransferAcceptedNotification,
                            _IMDFileTransferArchiveFailedNotification,
                            _IMDFileTransferArchiveSucceededNotification,
                            _IMDFileTransferCreatedNotification,
                            _IMDFileTransferHighQualityDownloadCompletedFileURLKey,
                            _IMDFileTransferHighQualityDownloadCompletedNotification,
                            _IMDFileTransferHighQualityDownloadCompletedSuccessKey,
                            _IMDFileTransferHighQualityDownloadInitiatedNotification,
                            _IMDFileTransferRemovedNotification,
                            _IMDFileTransferStoppedNotification,
                            _IMDFileTransferUpdatedNotification,
                            _IMDInconsistencyResolved,
                            _IMDManagedPreferencesChangedNotification,
                            _IMDMeCardUpdatedNotification,
                            _IMDMessageHistorySyncNotifyCKChatSyncControllerWantsSync,
                            _IMDMessageHistorySyncNotifyIDSTransactionLogWantsSync,
                            _IMDMessageHistorySyncNotifyReplayControllerWantsSync,
                            _IMDMessageStoreHandleCanonicalIDKey,
                            _IMDMessageStoreHandleCountryCodeKey,
                            _IMDMessageStoreHandleUnformattedIDKey,
                            _IMDNoticedInconsistenty,
                            _IMDReplayControllerErrorDomain,
                            _IMDReplayMessageStorageControllerErrorDomain,
                            _IMDSetInconsistencyHandler,
                            _IMDUpdateIMFileTransferFromIMFileTransfer,
                            _IMDaemonCoreBundle,
                            _IMDaemonWillShutdownNotification,
                            _IMFileTransferFromIMDAttachmentRecordRef,
                            _IMFirstAttachmentSyncFailed,
                            _IMFirstAttachmentSyncInitiated,
                            _IMFirstChatSyncFailed, _IMFirstMessageSyncFailed,
                            _IMFirstMessageSyncInitiated, _IMFirstSyncCompleted,
                            _IMFirstSyncFailed, _IMFirstSyncInitiated,
                            _IMFullChatSyncFailed, _IMFullChatSyncStarted,
                            _IMFullSyncCompleted,
                            _IMFullSyncCompletedWithOver20HoursOfPowerAndWifi,
                            _IMFullSyncFailed, _IMFullSyncInitiated,
                            _IMFullSyncInitiatedWithOver20HoursOfPowerAndWifi,
                            _IMInitialAttachmentSyncFailed,
                            _IMInitialAttachmentSyncInitiated,
                            _IMInitialChatSyncFailed,
                            _IMInitialChatSyncInitiated,
                            _IMInitialMessageSyncFailed,
                            _IMInitialMessageSyncInitiated,
                            _IMInitialSyncCompleted, _IMInitialSyncInitiated,
                            _IMItemFuzzDateForUnencryptedTime,
                            _IMLastCKSyncWasNotWithin3Days,
                            _IMLastCKSyncWasNotWithin7Days,
                            _IMLastCKSyncWasWithin3Days,
                            _IMLastCKSyncWasWithin7Days,
                            _IMLastCompleteDBCKSyncWasNotWithin3Days,
                            _IMLastCompleteDBCKSyncWasNotWithin7Days,
                            _IMLastCompleteDBCKSyncWasWithin3Days,
                            _IMLastCompleteDBCKSyncWasWithin7Days,
                            _IMManateeIdentityFetchAttemptFullSync,
                            _IMManateeIdentityFetchAttemptFullSyncFailed,
                            _IMManateeIdentityFetchAttemptRestoreSync,
                            _IMManateeIdentityFetchAttemptRestoreSyncFailed,
                            _IMManateeNotAvailable,
                            _IMMaxRecoverableAttemptReached,
                            _IMMessageSyncFailed, _IMMessageSyncStarted,
                            _IMMessageSyncStoppedDueToDeviceConditions,
                            _IMNotStartingCoreDuetSync, _IMNotSyncDueToIMAuto,
                            _IMPCSIdentityWasLost, _IMPendingKeyroll,
                            _IMPendingKeyrollNotification,
                            _IMPeriodicChatSyncCompleted,
                            _IMPeriodicChatSyncFailed,
                            _IMPeriodicChatSyncStarted,
                            _IMPostingMissingMessageData,
                            _IMRecievedMissingMessageNotification,
                            _IMRestoredAllContentFromCloudKit,
                            _IMSyncCompletedInLast30Hours,
                            _IMSyncCompletedRecentlyCloudKitMetric,
                            _IMSyncDidNotCompleteRecentlyCloudKitMetric,
                            _IMSyncFullSyncDueToIMAutomaticHistoryDeletionAgent,
                            _IMSyncInProgressCloudKitMetric, _IMSyncNoDueToCrash,
                            _IMSyncNoDueToFirstUnlock, _IMSyncNoDueToPower,
                            _IMSyncNoDueToRecent, _IMSyncNoDueToSyncing,
                            _IMSyncNoDueToWifi,
                            _MessageDictionaryMeCardSharingAudienceKey,
                            _MessageDictionaryMeCardSharingEnabledKey,
                            _MessageDictionaryMeCardSharingImageForkedKey,
                            _MessageDictionaryMeCardSharingNameForkedKey,
                            _MessageDictionaryMeCardSharingVersionKey,
                            _MessageDictionaryNicknameBlacklistKey,
                            _MessageDictionaryNicknameBlacklistWhitelistVersionKey,
                            _MessageDictionaryNicknameParticipantTruncatedRIDKey,
                            _MessageDictionaryNicknameRequestPersonalNicknameInfoKey,
                            _MessageDictionaryNicknameVersionKey,
                            _MessageDictionaryNicknameWhitelistKey,
                            _MessageDictionaryPendingNicknameUpdatesHandlesKey,
                            _MessageDictionaryPendingNicknameUpdatesVersionKey,
                            _MessageDictionaryPersonalNicknameDecryptKeyKey,
                            _MessageDictionaryPersonalNicknameRecordIDKey,
                            _NSStringFromAKAppleIDSecurityLevel,
                            _NSStringFromIMDCKAccountStatus,
                            __IMDHashParticipants, __IMDShouldSaveAttachment,
                            __IMDShouldSaveAttachmentStoreAtExternalLocation,
                            _kIMDAliasesPropertyKey, _kIMDCKAnalyticBagKey,
                            _kIMDCKAnalyticDetailsBagKey, _kIMDCKClientVersion,
                            _kIMDCKMetricBagKey, _kMaxCloudKitRetries ]
    objc-classes:         [ CKRecordUtilities, IMDAccount, IMDAccountController,
                            IMDAppleServiceSession, IMDAttachmentStore,
                            IMDBadgeUtilities, IMDCKAbstractSyncController,
                            IMDCKAttachmentSyncCKOperationFactory,
                            IMDCKAttachmentSyncController,
                            IMDCKCacheDeleteManager,
                            IMDCKChatSyncCKOperationFactory,
                            IMDCKChatSyncController, IMDCKDatabaseManager,
                            IMDCKExitManager, IMDCKMessageSyncCKOperationFactory,
                            IMDCKMessageSyncController, IMDCKRampManager,
                            IMDCKRecordSaltManager, IMDCKSyncController,
                            IMDCKSyncState, IMDCKSyncStatsCollector,
                            IMDCKUtilities, IMDChat, IMDChatRegistry, IMDChatStore,
                            IMDChatVocabularyUpdater, IMDFileTransferCenter,
                            IMDHandle, IMDIDSAccount, IMDIDSService,
                            IMDInternalPhishingController,
                            IMDInvocationForwarder, IMDLegactDTController,
                            IMDLocationSharingController, IMDMessageActiveDevice,
                            IMDMessageHistoryCKChatSyncTask,
                            IMDMessageHistoryFirstUnlockReplaySyncTask,
                            IMDMessageHistoryIDSTransactionLogSyncTask,
                            IMDMessageHistorySyncController,
                            IMDMessageHistorySyncTaskLiveFactory,
                            IMDMessagePTask, IMDMessagePTaskXPCStore,
                            IMDMessageProcessingController,
                            IMDMessageSortOrderAssigner, IMDMessageStore,
                            IMDNicknameController, IMDOneTimeCodeManager,
                            IMDQuickSwitchController, IMDRecentsController,
                            IMDRecordZoneManager, IMDReplayController,
                            IMDReplayStorageController,
                            IMDReplayStorageIterationContext, IMDService,
                            IMDServiceController, IMDServiceSession,
                            IMDSoundUtilities, IMDSpamController,
                            IMDSpamMessageCreator, IMDSpotlightIndexDelegate,
                            IMDStickerRegistry, IMDXPCEventStreamHandler,
                            IMMessagesToTrack, IMTunesController ]
    objc-ivars:           [ IMDChatStore._lastModificationStamp,
                            IMDLocationSharingController._session,
                            IMDMessageStore._cachedLastFailedMessageDate,
                            IMDMessageStore._cachedUnreadMessageCount,
                            IMDMessageStore._modificationStamp,
                            IMDMessageStore._pendingDBUpdatePost,
                            IMDMessageStore._suppressedUpdates,
                            IMDMessageStore._suppressedUpdatesTimer,
                            IMDServiceSession._buddies,
                            IMDServiceSession._password,
                            IMDServiceSession._proxyAccount,
                            IMDServiceSession._proxyHost,
                            IMDServiceSession._proxyPassword,
                            IMDServiceSession._proxyPort,
                            IMDServiceSession._proxyType,
                            IMDServiceSession._serverHost,
                            IMDServiceSession._serverPort,
                            IMDServiceSession._service,
                            IMDServiceSession._useSSL ]
...

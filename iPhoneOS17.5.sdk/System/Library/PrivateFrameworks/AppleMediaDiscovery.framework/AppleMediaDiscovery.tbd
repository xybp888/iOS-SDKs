--- !tapi-tbd
tbd-version:           4
targets:               [ armv7-ios, armv7s-ios, arm64-ios, arm64e-ios ]
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/AppleMediaDiscovery.framework/AppleMediaDiscovery
current-version:       1
compatibility-version: 1
exports:
  - targets:              [ armv7-ios, armv7s-ios, arm64-ios, arm64e-ios ]
    symbols:              [ _AMD_APP_SEGMENT_ACTIVE, _AMD_APP_SEGMENT_LAPSED,
                            _AMD_APP_SEGMENT_NEW, _AMD_CIPHERML_CALL_HANDLE,
                            _AMD_CIPHERML_REQUEST_ERROR,
                            _AMD_CLIENT_CLEAR_USER_DATA, _AMD_CLIENT_CUSTOM_AGG,
                            _AMD_CLIENT_DATA, _AMD_CLIENT_ERROR,
                            _AMD_CLIENT_FETCH_INAPP_SEG,
                            _AMD_CLIENT_FETCH_MODEL_PATH, _AMD_CLIENT_STATUS,
                            _AMD_CLIENT_STATUS_EXECUTION_ERROR,
                            _AMD_CLIENT_STATUS_INVALID_DESCRIPTOR,
                            _AMD_CLIENT_STATUS_OK,
                            _AMD_CLIENT_STATUS_UNSUPPORTED_VERSION,
                            _AMD_DOMAIN_ALL, _AMD_DOMAIN_APPS, _AMD_DOMAIN_BOOKS,
                            _AMD_DOMAIN_MUSIC, _AMD_DOMAIN_PODCASTS,
                            _AMD_DOMAIN_VIDEO, _AMD_ERROR_DOMAIN,
                            _AMD_FEATURE_CLEAR_USER_DATA,
                            _AMD_FEATURE_IN_APP_SEGMENTS, _AMD_JS_FEATURE_DATA,
                            _AMD_JS_SEGMENT_DATA, _AMD_JS_SEGMENT_DATA_TYPE,
                            _AMD_JS_SEGMENT_METADATA, _AMD_OPT_ARG_ARGUMENTS,
                            _AMD_OPT_ARG_DEFAULT_VALUE, _AMD_OPT_ARG_HELP_TEXT,
                            _AMD_OPT_ARG_IS_BOOL, _AMD_OPT_ARG_SHORT_NAME,
                            _AMD_PEC_SIMILARITY_SCORES_ARRAY,
                            _AMD_PIR_DATA_ARRAY, _AMD_PIR_KEYWORD_ARRAY,
                            _AMD_PIR_MISSING_KEYWORD_ARRAY,
                            _AMD_USECASE_WORKFLOW_COLDSTART_MODEL_ID,
                            _AMD_USECASE_WORKFLOW_END_TIMESTAMP,
                            _AMD_USECASE_WORKFLOW_INPUT_DEFINITIONS,
                            _AMD_USECASE_WORKFLOW_MAX_ITEMS_TO_DISPLAY,
                            _AMD_USECASE_WORKFLOW_MODEL_FORMAT,
                            _AMD_USECASE_WORKFLOW_MODEL_ID,
                            _AMD_USECASE_WORKFLOW_OUTPUT_DEFINITIONS,
                            _AMD_USECASE_WORKFLOW_RULE_PARAMS,
                            _AMD_USECASE_WORKFLOW_SECONDARY_MODEL_ID,
                            _AMD_USECASE_WORKFLOW_START_TIMESTAMP,
                            _AMD_USECASE_WORKFLOW_TAB_IDS,
                            _AMD_USECASE_WORKFLOW_TREATMENT_ID,
                            _AMD_USECASE_WORKFLOW_USE_CASE_ID ]
    objc-classes:         [ AMDAMSEngagementEvent, AMDAppEvent, AMDAppSegment,
                            AMDAppSegmentInfo, AMDAppStoreEvent, AMDAppTabInfo,
                            AMDBaseEvent, AMDBaseRecoModel, AMDBiomeIntegration,
                            AMDBiomeTest, AMDByteBuffer, AMDClassifierRecoModel,
                            AMDClient, AMDClientRequestEvent,
                            AMDColdstartOperation, AMDColdstartURL,
                            AMDCommandLineOption, AMDCoreDataPersistentContainer,
                            AMDDESRecordWriter, AMDDODMLAttachmentProcessor,
                            AMDDODMLCustomTargetingHelper, AMDDODMLDataProcessor,
                            AMDDataSync, AMDDescriptor, AMDDeviceStorage, AMDDomains,
                            AMDError, AMDFeature, AMDFeatureDescriptor,
                            AMDFeatureProvider, AMDFetchAppSegmentsResponse,
                            AMDFetchDescriptor, AMDFrameworkMetrics,
                            AMDHealthKitWorkoutEvent, AMDHistory, AMDInputBuilder,
                            AMDJSAppStoreEventHandler, AMDJSCipherMLQueryHandler,
                            AMDJSConfigProcessor, AMDJSCustomAggregator,
                            AMDJSDebugDataSync, AMDJSDebugHandler,
                            AMDJSDebugTestSQLite, AMDJSEngagementEventHandler,
                            AMDJSGetSegments, AMDJSInference, AMDJSONLoader,
                            AMDJSPIRResponseHandler, AMDJSRequestHandler,
                            AMDJSSync, AMDKVStore, AMDListFeature, AMDMapFeature,
                            AMDMegadomeIntegration, AMDMegadomeTest,
                            AMDMemoryBasedProvider, AMDMetricsContainer,
                            AMDMinHeap, AMDMiscHelpers, AMDModel, AMDModelAssets,
                            AMDModelAssetsMetadata, AMDModelDownloader,
                            AMDModelInputMetadata, AMDModelMetadata,
                            AMDModelOutputMetadata, AMDMultiArrayFeature,
                            AMDOnDeviceTester, AMDOptArgParser, AMDOutputBuilder,
                            AMDPair, AMDPerf, AMDPerfContainer, AMDPirTest, AMDSQLite,
                            AMDSQLiteColumnSpec, AMDSQLiteSchema,
                            AMDSQLiteTableSchema, AMDScalarFeature, AMDSimpleHash,
                            AMDSplunkLogger, AMDStorage, AMDStorageBasedProvider,
                            AMDTasteProfile, AMDTestDataCommon, AMDUseCaseWorkflow,
                            AMDUserDataManager, AMDWorkflow, AMDWorkflowInFlight,
                            InputFeatureDefinition, OutputDefinition ]
    objc-ivars:           [ AMDAMSEngagementEvent._engagementData,
                            AMDAppSegmentInfo._appIdentifier,
                            AMDAppSegmentInfo._segments,
                            AMDBaseRecoModel._assetCreationTimestamp,
                            AMDBaseRecoModel._model,
                            AMDBaseRecoModel._modelAssets,
                            AMDBaseRecoModel._modelId,
                            AMDBaseRecoModel._modelMetadata,
                            AMDBaseRecoModel._version, AMDByteBuffer._fileSize,
                            AMDByteBuffer._inputStream,
                            AMDByteBuffer._readPosition, AMDClient._callback,
                            AMDClient._dsId,
                            AMDClientRequestEvent._CipherMLCallHandle,
                            AMDClientRequestEvent._CipherMLRequestError,
                            AMDClientRequestEvent._PECSimilarityScoresArray,
                            AMDClientRequestEvent._PIRDataArray,
                            AMDClientRequestEvent._PIRKeywordArray,
                            AMDClientRequestEvent._PIRMissingKeywordArray,
                            AMDClientRequestEvent._accountDSID,
                            AMDClientRequestEvent._customDescriptor,
                            AMDClientRequestEvent._domain,
                            AMDClientRequestEvent._featureName,
                            AMDClientRequestEvent._modelId,
                            AMDClientRequestEvent._request,
                            AMDClientRequestEvent._schemaVersion,
                            AMDClientRequestEvent._storefrontId,
                            AMDClientRequestEvent._treatmentId,
                            AMDClientRequestEvent._useCaseId,
                            AMDCommandLineOption._defaultValue,
                            AMDCommandLineOption._helpText,
                            AMDCommandLineOption._isBool,
                            AMDCommandLineOption._name,
                            AMDCommandLineOption._shortName,
                            AMDCoreDataPersistentContainer.__container,
                            AMDCoreDataPersistentContainer.__moc,
                            AMDDODMLAttachmentProcessor._downSampleAttachments,
                            AMDDODMLAttachmentProcessor._hashMapAttachments,
                            AMDDODMLAttachmentProcessor._negSampleAttachements,
                            AMDDODMLAttachmentProcessor._weightAttachment,
                            AMDDODMLDataProcessor._actionArray,
                            AMDDODMLDataProcessor._attachmentsProcessor,
                            AMDDODMLDataProcessor._coreDictionary,
                            AMDDODMLDataProcessor._elementsInSample,
                            AMDDODMLDataProcessor._inputDictionary,
                            AMDDODMLDataProcessor._myAMDClient,
                            AMDDODMLDataProcessor._numberInputsBound,
                            AMDDataSync._deviceForgetThresholdDays,
                            AMDDataSync._eventLifetimeDays,
                            AMDDataSync._eventsDeltaSize,
                            AMDDataSync._fullSyncDeviceResetThresholdDays,
                            AMDDataSync._fullSyncEventsDeltaSize,
                            AMDDataSync._localDeviceId,
                            AMDDataSync._streamsToSync, AMDFeature.__actualShape,
                            AMDFeature.__dataType,
                            AMDFeature.__postRemapOperation,
                            AMDFeature.__remapInfo, AMDFeature.__shape,
                            AMDFeature.__value,
                            AMDFeatureDescriptor._aggregatedProperty,
                            AMDFeatureDescriptor._aggregatedPropertyList,
                            AMDFeatureDescriptor._defaultJoinValue,
                            AMDFeatureDescriptor._defaultJoinValueDict,
                            AMDFeatureDescriptor._doOuterJoin,
                            AMDFeatureDescriptor._featureName,
                            AMDFeatureDescriptor._fetchRequest,
                            AMDFeatureDescriptor._joinRequiredColumns,
                            AMDFeatureDescriptor._joinTable,
                            AMDFeatureDescriptor._joinTableDomain,
                            AMDFeatureDescriptor._joinType,
                            AMDFeatureDescriptor._keyProperty,
                            AMDFeatureDescriptor._maxRecords,
                            AMDFeatureDescriptor._propertyDict,
                            AMDFeatureDescriptor._sortKey,
                            AMDFeatureDescriptor._sortOrder,
                            AMDFeatureDescriptor._version,
                            AMDFetchAppSegmentsResponse._metadata,
                            AMDFetchAppSegmentsResponse._segmentInfo,
                            AMDFetchAppSegmentsResponse._segmentInfoType,
                            AMDFetchDescriptor.__columnSpecs,
                            AMDFetchDescriptor.__domain, AMDFetchDescriptor.__id,
                            AMDFetchDescriptor.__keyColumn,
                            AMDFetchDescriptor.__listColumn,
                            AMDFetchDescriptor.__saveAsType,
                            AMDFetchDescriptor.__statement,
                            AMDFetchDescriptor.__valueColumn,
                            AMDInputBuilder._inputsDefinitions,
                            AMDInputBuilder._modelId, AMDJSONLoader._path,
                            AMDMemoryBasedProvider._featureStore,
                            AMDMetricsContainer._logData,
                            AMDMetricsContainer._loggingProbability,
                            AMDMetricsContainer._metricEvent,
                            AMDMetricsContainer._verbosity, AMDMinHeap._capacity,
                            AMDMinHeap._comparator, AMDMinHeap._objects,
                            AMDMinHeap._position, AMDModelAssets._assetsMetadata,
                            AMDModelAssets._contentToLogicalMap,
                            AMDModelAssets._logicalToContentMap,
                            AMDModelAssets._minimalMapPresent,
                            AMDModelAssets._useBinaryInputMap,
                            AMDModelAssets._useBinaryOutputMap,
                            AMDModelAssetsMetadata._dictionaryIds,
                            AMDModelInputMetadata._dataType,
                            AMDModelInputMetadata._hashOpModValue,
                            AMDModelInputMetadata._paddingValue,
                            AMDModelInputMetadata._postRemapOperation,
                            AMDModelInputMetadata._shape,
                            AMDModelInputMetadata._size,
                            AMDModelInputMetadata._truncateOpMaxValue,
                            AMDModelInputMetadata._truncateOpMinValue,
                            AMDModelMetadata._assetsMetadata,
                            AMDModelMetadata._inputsMetadata,
                            AMDModelMetadata._mappingFilesRequired,
                            AMDModelMetadata._modelArchType,
                            AMDModelMetadata._modelId,
                            AMDModelMetadata._modelUid,
                            AMDModelMetadata._outputsMetadata,
                            AMDModelOutputMetadata._dataType,
                            AMDOnDeviceTester._container,
                            AMDOptArgParser._options,
                            AMDOptArgParser._parsedOptArgs,
                            AMDOptArgParser._shortOptions,
                            AMDOutputBuilder._outputDefinitions,
                            AMDOutputBuilder._useCaseId, AMDPair._firstElement,
                            AMDPair._secondElement, AMDPerfContainer._isEnabled,
                            AMDPerfContainer._level,
                            AMDPerfContainer._memoryUsage,
                            AMDPerfContainer._samples,
                            AMDPerfContainer._timeConversionFactor,
                            AMDPerfContainer._timeUsage, AMDSQLite.__biomeSchema,
                            AMDSQLite.__bootstrapSchema, AMDSQLite.__db,
                            AMDSQLite.__error, AMDSQLite.__executorQueue,
                            AMDSQLite.__isEnabled, AMDSQLite.__megadomeSchema,
                            AMDSQLite.__schema, AMDSQLiteColumnSpec._alias,
                            AMDSQLiteColumnSpec._dataType,
                            AMDSQLiteColumnSpec._defaultValue,
                            AMDSQLiteColumnSpec._derivationExpression,
                            AMDSQLiteColumnSpec._name,
                            AMDSQLiteColumnSpec._notNull,
                            AMDSQLiteColumnSpec._typeString,
                            AMDSQLiteColumnSpec._unique, AMDSQLiteSchema._name,
                            AMDSQLiteSchema._schemaDict,
                            AMDSQLiteSchema._streamToTableMap,
                            AMDSQLiteSchema._tables, AMDSQLiteSchema._version,
                            AMDSQLiteSchema._versionNumber,
                            AMDSQLiteTableSchema._columns,
                            AMDSQLiteTableSchema._name,
                            AMDSQLiteTableSchema._requiredColumns,
                            AMDSimpleHash._collisionMap, AMDSimpleHash._keys,
                            AMDSimpleHash._keysStorage, AMDSimpleHash._metadata,
                            AMDSimpleHash._metadataStorage,
                            AMDSimpleHash._moduloBase, AMDSimpleHash._numEntries,
                            AMDSimpleHash._values, AMDSimpleHash._valuesStorage,
                            AMDStorageBasedProvider._domain,
                            AMDUseCaseWorkflow._coldstartModelId,
                            AMDUseCaseWorkflow._endTimestamp,
                            AMDUseCaseWorkflow._inputBuilder,
                            AMDUseCaseWorkflow._maxItemsToDisplay,
                            AMDUseCaseWorkflow._modelFormat,
                            AMDUseCaseWorkflow._modelId,
                            AMDUseCaseWorkflow._modelName,
                            AMDUseCaseWorkflow._outputBuilder,
                            AMDUseCaseWorkflow._ruleParams,
                            AMDUseCaseWorkflow._secondaryModelId,
                            AMDUseCaseWorkflow._secondaryModelInputBuilder,
                            AMDUseCaseWorkflow._secondaryModelOutputBuilder,
                            AMDUseCaseWorkflow._startTimestamp,
                            AMDUseCaseWorkflow._treatmentId,
                            AMDUseCaseWorkflow._useCaseId,
                            InputFeatureDefinition._columnName,
                            InputFeatureDefinition._featureId,
                            InputFeatureDefinition._featureProvider,
                            InputFeatureDefinition._featureType,
                            InputFeatureDefinition._featureValues,
                            InputFeatureDefinition._mapOp,
                            InputFeatureDefinition._remapDictionaryId,
                            InputFeatureDefinition._shape,
                            InputFeatureDefinition._size, OutputDefinition._mode,
                            OutputDefinition._modelOutputName,
                            OutputDefinition._modelTopN,
                            OutputDefinition._modifiers,
                            OutputDefinition._remapDictionaryId,
                            OutputDefinition._scoreThresholdAsMultipleOfRandomScore ]
...

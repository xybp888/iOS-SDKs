--- !tapi-tbd-v2
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/VisualVoicemail.framework/IMAP.vvservice/IMAP
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _H_X_APPLEVM_DELETION_DATE, _H_X_APPLEVM_DURATION,
                            _H_X_APPLEVM_MESSAGE_VERSION, _IMAPSetupLogging,
                            _getAddressFamilyName, _isSameSubnet,
                            _isValidAddressFamily, _kAppleVMActiveGreetingFlag,
                            _kCurrentAppleVMMessageVersion,
                            _kGreetingsMailboxName,
                            _kIMAPServiceAccountDataClass,
                            _kIMAPServiceAccountInfoTask,
                            _kIMAPServiceAllowedFQDNServers,
                            _kIMAPServiceAllowedIPv4Servers,
                            _kIMAPServiceAllowedIPv6Servers,
                            _kIMAPServiceBeaconAddress,
                            _kIMAPServiceBeaconServiceCenterAddress,
                            _kIMAPServiceBeaconTimeout,
                            _kIMAPServiceBodyCachingTaskName,
                            _kIMAPServiceBodyRetrievingTaskName,
                            _kIMAPServiceBypassSMSCAvailabilityCheck,
                            _kIMAPServiceChangePINTaskName,
                            _kIMAPServiceClientManagesTrash,
                            _kIMAPServiceDeliverLegacyNotificationsBeforeSetup,
                            _kIMAPServiceFlagPushTaskName,
                            _kIMAPServiceIdleConnectionTimeout,
                            _kIMAPServiceLibraryRecordsAddedNotification,
                            _kIMAPServiceMaxGreetingDuration,
                            _kIMAPServiceMaxPINLength,
                            _kIMAPServiceMaximumBeaconCount,
                            _kIMAPServiceMinPINLength,
                            _kIMAPServicePreferredAuthenticationScheme,
                            _kIMAPServiceRetrieveGreetingTaskName,
                            _kIMAPServiceSendBeaconOnLoginFailure,
                            _kIMAPServiceSetCustomGreetingTaskName,
                            _kIMAPServiceSetDefaultGreetingTaskName,
                            _kIMAPServiceSupportsGreetingNotification,
                            _kIMAPServiceSyncTaskName, _kIMAPServiceUsesMWI,
                            _kIMAPServiceUsesSSL, _kInboxMailboxName,
                            _kTrashMailboxName ]
    objc-classes:         [ _IMAPNotificationInterpreter, _IMAPService,
                            _IMAPServiceAccount, _IMAPServiceActivityController,
                            _IMAPServiceBodyLoadContext,
                            _IMAPServiceBodyLoadMonitor, _IMAPServiceConnection,
                            _IMAPServiceGreetingLibrary,
                            _IMAPServiceGreetingStore, _IMAPServiceLibrary,
                            _IMAPServiceLibraryMessage, _IMAPServiceStore,
                            __VVMFLogInterceptor ]
    objc-ivars:           [ _IMAPService._activityController,
                            _IMAPService._addedRecords,
                            _IMAPService._attachmentManager,
                            _IMAPService._bodyLoadMonitor,
                            _IMAPService._greetingDuration,
                            _IMAPService._greetingLock,
                            _IMAPService._greetingType,
                            _IMAPService._imapParameters,
                            _IMAPService._imapServiceFlags,
                            _IMAPService._messageChangeQueue,
                            _IMAPService._nextBeaconTime,
                            _IMAPService._pendingDeletes,
                            _IMAPService._pendingDeletesLock,
                            _IMAPServiceAccount._cachedStores,
                            _IMAPServiceAccount._checkInForcefully,
                            _IMAPServiceAccount._hasBeenInvalidated,
                            _IMAPServiceAccount._idleLock,
                            _IMAPServiceAccount._idleTimeout,
                            _IMAPServiceAccount._idleTimer,
                            _IMAPServiceAccount._nextIdleFire,
                            _IMAPServiceAccount._offlineCachePath,
                            _IMAPServiceAccount._serviceAccountLock,
                            _IMAPServiceAccount._storeCacheLock,
                            _IMAPServiceActivityController._activeActivities,
                            _IMAPServiceActivityController._activityToTaskType,
                            _IMAPServiceActivityController._inProcessRecords,
                            _IMAPServiceActivityController._service,
                            _IMAPServiceBodyLoadContext._base64,
                            _IMAPServiceBodyLoadContext._expectedLength,
                            _IMAPServiceBodyLoadContext._fd,
                            _IMAPServiceBodyLoadContext._headersDict,
                            _IMAPServiceBodyLoadContext._lastOffset,
                            _IMAPServiceBodyLoadContext._lengthWritten,
                            _IMAPServiceBodyLoadContext._notificationDict,
                            _IMAPServiceBodyLoadContext._parser,
                            _IMAPServiceBodyLoadContext._recordLibraryId,
                            _IMAPServiceBodyLoadContext._service,
                            _IMAPServiceBodyLoadMonitor._loadContextsByLibraryId,
                            _IMAPServiceBodyLoadMonitor._service,
                            _IMAPServiceConnection._checkedOutThreads,
                            _IMAPServiceConnection._checkedOutThreadsLock,
                            _IMAPServiceGreetingLibrary._messages,
                            _IMAPServiceLibraryMessage._messageIDHeader,
                            _IMAPServiceStore._imapServiceStoreFlags ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFAbsoluteTimeGetCurrent, _CFArrayCreate,
                            _CFArrayCreateCopy, _CFArrayCreateMutableCopy,
                            _CFArrayGetCount, _CFArrayGetValueAtIndex,
                            _CFArrayRemoveValueAtIndex, _CFArraySortValues,
                            _CFDictionaryCreate, _CFDictionaryCreateMutable,
                            _CFDictionaryGetValue, _CFDictionaryRemoveValue,
                            _CFDictionarySetValue, _CFMakeCollectable,
                            _CFNotificationCenterAddObserver,
                            _CFNotificationCenterGetDarwinNotifyCenter,
                            _CFNotificationCenterGetLocalCenter,
                            _CFNotificationCenterPostNotification,
                            _CFNotificationCenterRemoveEveryObserver, _CFRelease,
                            _CFStringGetCStringPtr, _CFStringGetCharacters,
                            _CFStringGetCharactersPtr, _CFStringHasSuffix,
                            _CPIsInternalDevice, _H_CONTENT_TRANSFER_ENCODING,
                            _H_CONTENT_TYPE, _H_DATE, _H_MESSAGE_ID, _H_MIME_VERSION,
                            _H_SUBJECT,
                            _IMAPAccountOfflineOperationQueuedNotification,
                            _IMAPServerPathPrefix, _MFCreateArrayForMessageFlags,
                            _MFMailAccountUsername, _MFMessageErrorDomain,
                            _MFMessageFlagsByApplyingDictionary,
                            _MFMimeHeaderFromKey, _MFMimeHeaderReplyToKey,
                            _MFReloadNetworkLoggingNotification,
                            _MailAccountHostname, _MailAccountPortNumber,
                            _MailMessageStoreMessagesAdded, _MessageIsDeleted,
                            _MessageIsRead,
                            _MonitoredActivityDidAddActivityTarget,
                            _MonitoredActivityEnded,
                            _MonitoredActivityNewPrimaryTarget,
                            _MonitoredActivityOldPrimaryTarget,
                            _MonitoredActivityPrimaryTargetChanged,
                            _MonitoredActivityStarted, _NSDefaultRunLoopMode,
                            _NSHomeDirectory, _NSLog, _NSStringFromBOOL,
                            _NSStringFromClass, _NSStringFromRange,
                            _NSStringFromSelector, _OBJC_EHTYPE_$_NSException,
                            _TUGuaranteeExecutionOnMainThreadAsync,
                            _TURemoveEveryTelephonyCenterObserver,
                            _VMCarrierIMAPParametersChangedNotification,
                            _VMCarrierNotificationUserInfoAccountUUID,
                            _VMCarrierNotificationUserInfoIMAPParameters,
                            _VMCarrierStateResponseErrorCodeTemporaryFailure,
                            _VMCopyDictionaryForNotificationString,
                            _VMPhoneNumberNormalizedPhoneNumberString,
                            _VMStoreAddRecord, _VMStoreCopyFirstRecordWithToken,
                            _VMStoreCopyFirstRecordWithTokenInMailbox,
                            _VMStoreCopyGreetingPath,
                            _VMStoreCopyOfAllRecordsWithFlags,
                            _VMStoreCopyOfAllRecordsWithFlagsInRemoteUIDRange,
                            _VMStoreCopyOfAllRemoteUIDsWithTrashState,
                            _VMStoreCopyRecordWithIdentifier,
                            _VMStoreCopyRecordWithRemoteUID,
                            _VMStoreCopyRecordsWithTokenInMailbox,
                            _VMStoreCountOfRecordsWithFlags,
                            _VMStoreGetReceiverMigration,
                            _VMStoreGetTimestampForTokenWithKey,
                            _VMStoreGetUIDValidity,
                            _VMStoreRecordChangedFlagsFromServerKey,
                            _VMStoreRecordChangedFlagsKey,
                            _VMStoreRecordChangedFlagsReceiverKey,
                            _VMStoreRecordCopyCallbackNumber,
                            _VMStoreRecordCopyDataPath,
                            _VMStoreRecordCopyDescription,
                            _VMStoreRecordCopyFlagsDescription,
                            _VMStoreRecordCopyReceiver, _VMStoreRecordCopySender,
                            _VMStoreRecordCopyToken,
                            _VMStoreRecordFlagsChangedNotification,
                            _VMStoreRecordFlagsDidChangeNotification,
                            _VMStoreRecordFlagsWillChangeNotification,
                            _VMStoreRecordGetDate, _VMStoreRecordGetFlags,
                            _VMStoreRecordGetIdentifier,
                            _VMStoreRecordGetRemoteUID,
                            _VMStoreRecordSetCallbackNumber,
                            _VMStoreRecordSetDuration, _VMStoreRecordSetFlag,
                            _VMStoreRecordSetFlags,
                            _VMStoreRecordSetFlagsFromServer,
                            _VMStoreRecordSetReceiver,
                            _VMStoreRecordSetRemoteUID, _VMStoreRecordSetSender,
                            _VMStoreRemoveRecord,
                            _VMStoreRemovedRecordsNotification, _VMStoreSave,
                            _VMStoreSetReceiverMigration,
                            _VMStoreSetTimestampForTokenWithKey,
                            _VMStoreSetUIDValidity,
                            _VVServiceDataAvailableNotification,
                            _VVServiceDataReceiveBeganNotification,
                            _VVServiceDataReceiveContinuedNotification,
                            _VVServiceFinishedAddingRecordsNotification,
                            _VVServiceRecordsAddedNotification,
                            _VVServiceSyncStatusChangedNotification,
                            _VVServiceTaskCancelledNotification,
                            _VVServiceTaskEndedNotification,
                            _VVServiceTaskStartedNotification,
                            _VVVerifierChangedNotification, _XPC_ACTIVITY_DELAY,
                            _XPC_ACTIVITY_GRACE_PERIOD, _XPC_ACTIVITY_INTERVAL,
                            _XPC_ACTIVITY_INTERVAL_1_MIN, _XPC_ACTIVITY_PRIORITY,
                            _XPC_ACTIVITY_PRIORITY_UTILITY,
                            _XPC_ACTIVITY_REPEATING, __Block_object_assign,
                            __Block_object_dispose, __NSConcreteGlobalBlock,
                            __NSConcreteStackBlock,
                            __TUAssertShouldCrashApplication, __Unwind_Resume,
                            __VMStoreCopyTokenForKey,
                            ___CFConstantStringClassReference,
                            ___mfEnableCallStackLogging, ___objc_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __dispatch_main_q, __objc_empty_cache,
                            __os_log_error_impl, __os_log_impl, _close,
                            _dispatch_after, _dispatch_async,
                            _dispatch_get_global_queue, _dispatch_once,
                            _dispatch_queue_create, _dispatch_release,
                            _dispatch_semaphore_create,
                            _dispatch_semaphore_signal, _dispatch_semaphore_wait,
                            _dispatch_sync, _dispatch_time, _inet_pton,
                            _kCFAllocatorDefault, _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks,
                            _kCTIndicatorsVoiceMailURL,
                            _kVMGreetingChangedNotificationName,
                            _kVMMailboxChangedNotificationName,
                            _kVMNotificationHostKey, _kVMNotificationLoginKey,
                            _kVMNotificationMWIKey, _kVMNotificationNameKey,
                            _kVMNotificationPasswordKey, _kVMNotificationPortKey,
                            _kVMNotificationStateKey,
                            _kVMNotificationTimestampKey,
                            _kVMServerChangedNotificationName,
                            _kVMStateNotificationName, _kVVErrorDomain,
                            _kVVLastWarnedUsageDefault,
                            _kVVServiceAccountUUIDKey,
                            _kVVServiceAddedRecordsKey,
                            _kVVServiceCurrentDataLengthKey, _kVVServiceErrorKey,
                            _kVVServiceExpectedDataLengthKey,
                            _kVVServiceRecordKey, _kVVServiceSuppressErrorKey,
                            _kVVServiceTaskTypeKey,
                            _kVVServiceTaskWillBeRetriedKey,
                            _kVVVerifierBeaconResponseReceivedCheckpointKey,
                            _kVVVerifierBeaconSentCheckpointKey,
                            _kVVVerifierSMSCAvailableCheckpointKey,
                            _kVVVerifierServerLoginCheckpointKey,
                            _kVVVerifierValidCarrierBundleCheckpointKey,
                            _objc_alloc, _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleasePoolPop, _objc_autoreleasePoolPush,
                            _objc_begin_catch, _objc_copyWeak, _objc_destroyWeak,
                            _objc_end_catch, _objc_enumerationMutation,
                            _objc_exception_rethrow, _objc_getProperty,
                            _objc_initWeak, _objc_loadWeak, _objc_loadWeakRetained,
                            _objc_msgSend, _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_opt_new, _objc_release,
                            _objc_retain, _objc_setProperty_atomic,
                            _objc_setProperty_nonatomic,
                            _objc_setProperty_nonatomic_copy, _objc_storeWeak,
                            _objc_terminate, _open, _os_log_type_enabled,
                            _pthread_once, _unlink, _vm_imap_log, _write,
                            _xpc_activity_get_state, _xpc_activity_register,
                            _xpc_activity_set_state, _xpc_activity_unregister,
                            _xpc_dictionary_create, _xpc_dictionary_set_bool,
                            _xpc_dictionary_set_int64,
                            _xpc_dictionary_set_string, _xpc_release ]
    objc-classes:         [ _IMAPAccount, _MFActivityMonitor,
                            _MFAttachmentLibraryManager, _MFAttachmentManager,
                            _MFAuthScheme, _MFConnection, _MFData, _MFError,
                            _MFIMAPConnection, _MFIMAPMessage, _MFInvocationQueue,
                            _MFLibraryIMAPStore, _MFLibraryMessage,
                            _MFLibraryStore, _MFMailMessageStore,
                            _MFMessageDetails, _MFMessageFileWrapper,
                            _MFMessageHeaders, _MFMessageLibrary, _MFMessageWriter,
                            _MFMonitoredInvocation, _MFMutableMessageHeaders,
                            _MFProgressiveMimeParser, _NSArray,
                            _NSAssertionHandler, _NSAutoreleasePool, _NSBundle,
                            _NSDate, _NSDateComponentsFormatter, _NSDictionary,
                            _NSError, _NSFileManager, _NSIndexSet, _NSLock,
                            _NSMutableArray, _NSMutableData, _NSMutableDictionary,
                            _NSMutableSet, _NSNotificationCenter, _NSNumber,
                            _NSObject, _NSPropertyListSerialization,
                            _NSRecursiveLock, _NSRunLoop, _NSString, _NSThread,
                            _NSTimer, _NSURL, _NSUserDefaults, _NSValue,
                            _TUPhoneNumber, _TUPrivacyManager, _VMAWDReporter,
                            _VMCarrierStateRequest, _VVCarrierParameters,
                            _VVNotificationInterpreter, _VVService ]
    objc-ivars:           [ _IMAPAccount._cachedConnections,
                            _IMAPAccount._connectionLock,
                            _IMAPAccount._flagChangesLock,
                            _MFLibraryIMAPStore._serverUidNext,
                            _MFLibraryStore._library,
                            _MFMailMessageStore._account,
                            _MFMessageDetails.dateReceived,
                            _MFMessageDetails.library,
                            _MFMessageDetails.libraryID,
                            _MFMessageDetails.mailboxID,
                            _MFMessageDetails.messageFlags,
                            _MFMessageDetails.uid, _MailAccount._library,
                            _VVService._serviceFlags ]
...

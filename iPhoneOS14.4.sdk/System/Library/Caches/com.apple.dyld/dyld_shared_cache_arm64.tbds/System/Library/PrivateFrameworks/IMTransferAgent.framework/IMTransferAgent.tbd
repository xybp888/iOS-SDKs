--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/IMTransferAgent.framework/IMTransferAgent
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CKNicknameRecordType,
                            _IMOptOutOfOptimizedMadridAttachmentDownloadPath,
                            _IMOptOutOfOptimizedMadridAttachmentUploadPath,
                            _IMSetOptOutOfOptimizedMadridAttachmentDownloadPath,
                            _IMSetOptOutOfOptimizedMadridAttachmentUploadPath ]
    objc-classes:         [ FTiMessageRequestMMCSDownloadToken,
                            FTiMessageRequestMMCSUploadToken,
                            IMTransferAgentController,
                            IMTransferAgentDeliveryController,
                            IMTransferAgentIDSInterface,
                            IMTransferAgentNicknameController,
                            IMTransferEncryptionController,
                            IMTransferEncryptionHelpers ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFDictionaryCreateMutable, _CFDictionarySetValue,
                            _CFReadStreamClose, _CFReadStreamCreateWithFile,
                            _CFReadStreamGetError, _CFReadStreamOpen,
                            _CFReadStreamScheduleWithRunLoop,
                            _CFReadStreamSetClient,
                            _CFReadStreamUnscheduleFromRunLoop, _CFRelease,
                            _CFRunLoopGetMain, _CFWriteStreamClose,
                            _CFWriteStreamCreateWithFile, _CFWriteStreamGetError,
                            _CFWriteStreamOpen,
                            _CFWriteStreamScheduleWithRunLoop,
                            _CFWriteStreamSetClient,
                            _CFWriteStreamUnscheduleFromRunLoop,
                            _CKErrorRetryAfterKey, _CKPartialErrorsByItemIDKey,
                            _FTAWDLogIMessageAttachmentDownloadNew,
                            _FTAWDLogIMessageAttachmentUploadNew,
                            _IDSDefaultPairedDevice, _IMCloudKitDefinesDomain,
                            _IMCloudKitShouldUseDevContainer,
                            _IMGetCachedDomainBoolForKey, _IMGetiMessageSettings,
                            _IMNicknameDirectoryPath,
                            _IMNicknameEncryptionHelpersErrorDomain,
                            _IMNicknamesDomain, _IMOSLoggingEnabled,
                            _IMRemoteURLConnectionErrorDomain,
                            _IMSetDomainBoolForKey, _IMSetEmbeddedTempDirectory,
                            _IMSharedHelperNickNameEnabled, _IMSingleObjectArray,
                            _IMWeakLinkSymbol, _JWDecodeDictionary,
                            _JWEncodeDictionary, _MarcoLogMadridEvent,
                            _MarcoLogMadridLevel, _MarcoShouldLogMadridLevel,
                            _MarcoWarnMadrid, _MessageLogEvent,
                            _NSDebugDescriptionErrorKey, _NSFileSize,
                            _NSTemporaryDirectory, _NSURLErrorDomain,
                            _OSLogHandleForIMEventCategory,
                            _OSLogHandleForIMFoundationCategory, _StringGUID,
                            __Block_object_assign, __Block_object_dispose,
                            __FZErrorTypeFromResponseCodeAndError, __IMAlwaysLog,
                            __IMWarn, __IMWillLog, __NSConcreteGlobalBlock,
                            __NSConcreteStackBlock, __Unwind_Resume,
                            ___CFConstantStringClassReference,
                            ___objc_personality_v0, ___stack_chk_fail,
                            ___stack_chk_guard, __dispatch_main_q,
                            __objc_empty_cache, __os_log_impl, _dispatch_after,
                            _dispatch_async, _dispatch_get_global_queue,
                            _dispatch_once, _dispatch_time, _exit,
                            _failReasonStringForMMCSError, _im_dispatch_after,
                            _kCFRunLoopCommonModes,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks, _kMMCSErrorDomain,
                            _objc_alloc, _objc_alloc_init, _objc_autorelease,
                            _objc_autoreleaseReturnValue, _objc_begin_catch,
                            _objc_copyWeak, _objc_destroyWeak, _objc_end_catch,
                            _objc_enumerationMutation, _objc_getProperty,
                            _objc_initWeak, _objc_loadWeakRetained, _objc_msgSend,
                            _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass, _objc_release, _objc_retain,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_retainBlock, _objc_setProperty_atomic_copy,
                            _objc_setProperty_nonatomic_copy, _objc_storeStrong,
                            _os_log_type_enabled, _parseMMCSError, _pow,
                            dyld_stub_binder ]
    objc-classes:         [ CKAsset, CKContainer, CKContainerID, CKContainerOptions,
                            CKFetchRecordsOperation, CKModifyRecordsOperation,
                            CKOperationConfiguration, CKQuery, CKRecord, CKRecordID,
                            CKRecordZone, FTMessageDelivery, FTNetworkSupport,
                            IDSMessage, IDSServerBag, IDSService, IMDefaults,
                            IMFileManager, IMLockdownManager, IMNickname,
                            IMNicknameAvatarImage, IMNicknameEncryptionHelpers,
                            IMNicknameEncryptionPreKey,
                            IMNicknameEncryptionRecordTag, IMTimingCollection,
                            MMCSController, MMCSGetFile, MMCSPutFile, NSArray,
                            NSConstantArray, NSConstantIntegerNumber, NSData, NSDate,
                            NSDictionary, NSError, NSFileManager, NSMutableArray,
                            NSMutableData, NSMutableDictionary, NSNumber, NSObject,
                            NSOperationQueue, NSPredicate, NSSet, NSString, NSURL,
                            NetworkChangeNotifier ]
    objc-eh-types:        [ NSException ]
...
